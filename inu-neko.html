<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>çŠ¬æ´¾ï¼ŸçŒ«æ´¾ï¼Ÿè¨ºæ–­ï½œå®Œå…¨ç‰ˆ</title>
<meta name="description" content="æœ¬ä½“12å•ï¼ˆçŠ¬åº¦Ã—6ãƒ»çŒ«åº¦Ã—6ï¼‰ï¼‹ãƒœãƒ¼ãƒŠã‚¹2å•ã§â€œçŠ¬æ´¾ï¼ŸçŒ«æ´¾ï¼Ÿâ€ã®å‚¾ãã‚’æ¸¬å®šã€‚DOG/CATã®å·®Dã§5ã‚¿ã‚¤ãƒ—ã«åˆ†é¡ã—ã€æ´»å‹•æŒ‡æ•°ãƒãƒƒã‚¸ã‚„ç§°å·ã‚‚è¡¨ç¤ºã€‚çµæœã¯ç¸¦é•·3:4ã‚¤ãƒ©ã‚¹ãƒˆã¨é•·æ–‡ã‚³ãƒ¡ãƒ³ãƒˆã€è©±ã—æ–¹ã®å…·ä½“ä¾‹ã¤ãï¼ˆã‚¨ãƒ³ã‚¿ãƒ¡ç”¨ï¼‰ã€‚">
<meta name="theme-color" content="#f7f9ff">
<meta property="og:type" content="website">
<meta property="og:title" content="çŠ¬æ´¾ï¼ŸçŒ«æ´¾ï¼Ÿè¨ºæ–­ï½œå®Œå…¨ç‰ˆ">
<meta property="og:description" content="12å•ï¼‹ãƒœãƒ¼ãƒŠã‚¹2å•ã§DOG/CATã‚’å¯è¦–åŒ–ã€‚å·®åˆ†Dã§5ã‚¿ã‚¤ãƒ—ã€ACTã§ã‚µã‚¤ã‚ºã‚’è¡¨ç¤ºã€‚é•·æ–‡ã‚³ãƒ¡ãƒ³ãƒˆï¼†ä¼šè©±ã®è¨€ã„å›ã—ä¾‹ã¤ãã€‚">
<meta property="og:url" content="https://haisuikounozarigani.github.io/shindan/inu-neko.html">
<meta property="og:image" content="/shindan/assets/results/inu-neko/05.png">
<style>
:root{
  --accent:#4aa8ff; --accent2:#a48bff;
  --ink:#1f2732; --muted:#667087; --paper:#fff;
  --bg1:#f7f9ff; --bg2:#f6f3ff; --line:#e6ecf7;
  --good:#40c057; --mid:#fab005; --low:#ff6b6b;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; color:var(--ink);
  background:linear-gradient(180deg,var(--bg1),var(--bg2));
  font-family:"Noto Sans JP",system-ui,-apple-system,"Segoe UI",Roboto,"Hiragino Kaku Gothic ProN",sans-serif;
}
a{color:inherit}
.wrap{max-width:980px;margin:18px auto;padding:0 14px}
header.hd{display:grid;grid-template-columns:56px 1fr;gap:12px;align-items:center;margin:8px 0}
.logo{width:56px;height:56px;border-radius:14px;background:linear-gradient(135deg,#e1f2ff,#ece6ff);display:grid;place-items:center;font-size:28px}
h1{margin:0;font-size:clamp(22px,4.6vw,34px);letter-spacing:.02em}
.sub{margin:4px 0 0;color:var(--muted);font-size:.96em}
.card{background:var(--paper);border:1px solid var(--line);border-radius:16px;padding:14px}
.section{margin:14px 0}
.pill{display:inline-block;padding:4px 8px;border:1px solid var(--line);border-radius:999px;background:#fff;color:#6b6a77;font-size:.88em}
.meta{display:flex;gap:8px;flex-wrap:wrap}
.sticky{position:sticky;top:0;z-index:10;margin:-6px -14px 12px;padding:8px 14px;background:rgba(255,255,255,.8);backdrop-filter:blur(6px) saturate(1.05);border-bottom:1px solid #e9edf7;display:flex;align-items:center;gap:10px}
.progress{height:8px;background:#edf2fb;border-radius:999px;flex:1;overflow:hidden}
.progress>span{display:block;height:100%;width:0;background:linear-gradient(90deg,var(--accent),var(--accent2))}
.btn{padding:10px 14px;border:1px solid var(--line);border-radius:12px;background:#fff;cursor:pointer}
.btn.primary{background:linear-gradient(90deg,var(--accent),var(--accent2));border-color:transparent;color:#fff;font-weight:700}
fieldset.q{border:1px solid var(--line);border-radius:12px;padding:10px;margin:10px 0;background:#fff}
legend{font-weight:700}
.scale{display:grid;grid-template-columns:repeat(5,minmax(66px,1fr));gap:8px;margin-top:8px}
.scale input{position:absolute;opacity:0;pointer-events:none}
.scale label{display:grid;place-items:center;border:1px solid #e5e9f3;border-radius:10px;padding:8px;cursor:pointer;user-select:none;background:#fff}
.scale input:checked+label{outline:2px solid var(--accent);border-color:transparent}
mark.need{animation:need 1.6s ease}
@keyframes need{0%{box-shadow:0 0 0 0 rgba(74,168,255,.45)}100%{box-shadow:0 0 0 0 rgba(74,168,255,0)}}
.result-head{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
.badge{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:999px;background:linear-gradient(90deg,var(--accent),var(--accent2));color:#fff;font-weight:700}
.total{font-size:26px;font-weight:800}
.small{color:var(--muted);font-size:.92em}
.hero-vert{display:grid;place-items:center;border:1px solid var(--line);border-radius:16px;background:#fff;overflow:hidden}
.hero-vert figure{margin:0;width:min(600px,95vw);aspect-ratio:3/4;border-bottom:1px solid var(--line);background:#f7f9ff}
.hero-vert img{width:100%;height:100%;object-fit:cover;display:block}
.hero-vert figcaption{padding:10px}
.hero-vert .capline{font-weight:800}
.hero-vert .poem{font-style:italic;letter-spacing:.02em;margin-top:4px;color:#445;opacity:.9}
.hero-vert .capmini{font-size:.95em;color:var(--muted);margin-top:4px}
.grid2{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:12px}
.stat{border:1px solid var(--line);border-radius:12px;padding:10px;background:#fff}
.stat .big{font-size:22px;font-weight:800}
.hr{height:1px;background:var(--line);margin:10px 0}
.klist{display:flex;flex-wrap:wrap;gap:8px;margin-top:6px}
.kpill{border:1px solid var(--line);border-radius:999px;padding:6px 10px;background:#fff;font-size:.9em}
.bar{border:1px solid var(--line);border-radius:12px;padding:10px;background:#fff}
.bar .row{height:10px;background:#edf2fb;border-radius:999px;overflow:hidden;margin-top:6px}
.bar .row>span{display:block;height:100%;width:0;background:linear-gradient(90deg,var(--accent),var(--accent2))}
.footer{color:var(--muted);font-size:.92em}
.warn{background:#f8fbff;border:1px solid #e1ebf7;border-radius:12px;padding:10px;margin:12px 0}
.back-area{display:flex;justify-content:center;margin-top:10px}
a.back{display:inline-flex;align-items:center;gap:6px;padding:10px 14px;border:1px solid var(--line);border-radius:12px;background:#fff;text-decoration:none}
.badge-size{display:inline-flex;align-items:center;gap:6px;padding:4px 8px;border-radius:999px;background:#fff;border:1px solid var(--line);font-size:.85em;margin-left:6px}
.title-row{display:flex;align-items:center;gap:6px;flex-wrap:wrap}
.tags{display:flex;flex-wrap:wrap;gap:8px;margin-top:6px}
.tag{padding:3px 8px;border:1px solid var(--line);border-radius:999px;background:#fff;font-size:.84em}
.title-emoji{font-size:22px}
@media (max-width: 560px){
  .wrap{padding:0 10px}
  .sticky{top:calc(env(safe-area-inset-top) + 0px); padding:8px 10px}
  .scale{grid-template-columns:repeat(2,1fr)}
  .scale label{padding:12px 8px;font-size:14px}
  .hero-vert figure{width:100%}
  .grid2{grid-template-columns:1fr}
  .badge-size{font-size:.8em}
  .card{padding:12px}
}
</style>
</head>
<body data-id="inu-neko">
<main class="wrap" id="app">
  <header class="hd">
    <div class="logo">ğŸ¾</div>
    <div>
      <h1>çŠ¬æ´¾ï¼ŸçŒ«æ´¾ï¼Ÿè¨ºæ–­ï½œå®Œå…¨ç‰ˆ</h1>
      <p class="sub">æœ¬ä½“12å•ï¼ˆçŠ¬åº¦Ã—6ï¼çŒ«åº¦Ã—6ï¼‰ï¼‹ãƒœãƒ¼ãƒŠã‚¹2å•ã€‚DOG/CATã®å·®åˆ†Dã§5ã‚¿ã‚¤ãƒ—ã«åˆ†é¡ã—ã€æ´»å‹•æŒ‡æ•°ï¼ˆACTï¼‰ã§Small/Mid/Largeãƒãƒƒã‚¸ã‚’ä»˜ä¸ã€‚ç¸¦é•·3:4ã‚¤ãƒ¡ãƒ¼ã‚¸ã€é•·æ–‡ã‚³ãƒ¡ãƒ³ãƒˆã€è©±ã—æ–¹ã®è¨€ã„å›ã—ä¾‹ã¨ä¸€æ­©ã®ææ¡ˆã‚’è¡¨ç¤ºã—ã¾ã™ã€‚</p>
    </div>
  </header>

  <div class="sticky" aria-live="polite">
    <span>ğŸ“Š</span>
    <div class="progress" aria-label="å›ç­”é€²æ—"><span id="prog"></span></div>
    <button class="btn primary" id="doScore">è¨ºæ–­ã™ã‚‹</button>
  </div>

  <section class="card section" id="desc">
    <h2 style="margin:4px 0 8px">èª¬æ˜</h2>
    <div class="meta" style="margin-bottom:8px">
      <span class="pill">è³ªå•æ•°ï¼š12ï¼‹ãƒœãƒ¼ãƒŠã‚¹2</span>
      <span class="pill">å½¢å¼ï¼š0â€“4ï¼ˆ0=ã¾ã£ãŸããªã„ / 4=ã¨ã¦ã‚‚å½“ã¦ã¯ã¾ã‚‹ï¼‰</span>
      <span class="pill">DOG/CATï¼šå„0â€“24ã€D=âˆ’24ã€œ+24</span>
    </div>
    <p class="small">çŠ¬çš„ï¼å¤–å‘ãƒ»å”èª¿ãƒ»è¡Œå‹•ã®ã‚¹ã‚¤ãƒƒãƒã€çŒ«çš„ï¼å†…å‘ãƒ»å‰µé€ ãƒ»ä½™ç™½ã®ã‚¹ã‚¤ãƒƒãƒã€‚ã“ã®è¨ºæ–­ã¯ã€Œå¿ƒåœ°ã‚ˆã„å‹•ãæ–¹ã®ã‚µã‚¤ã‚ºæ„Ÿã€ã‚’çŸ¥ã‚‹ãŸã‚ã®ã‚»ãƒ«ãƒ•ãƒã‚§ãƒƒã‚¯ã§ã™ã€‚</p>
  </section>

  <!-- è¨­å• -->
  <section class="card section" id="questions">
    <h2 style="margin:4px 0 8px">è¨­å•ï¼ˆ0=ã¾ã£ãŸããªã„ï¼1=ã‚ã¾ã‚Šãªã„ï¼2=ã©ã¡ã‚‰ã¨ã‚‚ï¼3=ã ã„ãŸã„ï¼4=ã¨ã¦ã‚‚ï¼‰</h2>
    <div id="qWrap"></div>
    <div class="tags">
      <span class="tag">æœ¬ä½“ï¼šå…¨12å•ï¼ˆé †ä¸åŒï¼‰</span>
      <span class="tag">ğŸ– ãƒœãƒ¼ãƒŠã‚¹ï¼š2å•ï¼ˆä»»æ„ãƒ»ç§°å·ç”¨ï¼‰</span>
    </div>
    <div style="display:flex;gap:8px;flex-wrap:wrap;margin-top:10px">
      <button class="btn" id="clearAns">å›ç­”ã‚’ã‚¯ãƒªã‚¢</button>
      <button class="btn primary" id="doScore2">è¨ºæ–­ã™ã‚‹</button>
    </div>
  </section>

  <!-- çµæœ -->
  <section class="card section" id="result" aria-live="polite">
    <div id="resEmpty">
      <span class="badge">ã¾ã çµæœã¯ã‚ã‚Šã¾ã›ã‚“</span>
      <p class="small">æœ¬ä½“12å•ã«å›ç­”ã—ã¦ã€Œè¨ºæ–­ã™ã‚‹ã€ã‚’æŠ¼ã—ã¦ãã ã•ã„ã€‚ï¼ˆãƒœãƒ¼ãƒŠã‚¹ã¯ä»»æ„ï¼‰</p>
    </div>

    <div id="resArea" style="display:none">
      <div class="result-head">
        <span class="badge">çµæœ</span>
        <div class="total" id="typeLine">â€”</div>
      </div>

      <!-- ãƒ’ãƒ¼ãƒ­ãƒ¼ï¼ˆ3:4å¤§ããï¼‰ -->
      <div class="hero-vert section" role="region" aria-label="ã‚¿ã‚¤ãƒ—ã®ã‚¤ãƒ¡ãƒ¼ã‚¸">
        <figure>
          <img id="heroImg" src="/shindan/assets/results/inu-neko/01.png" alt="å±±ç¨œã«ç«‹ã¤å¤§çŒ«ã®å½±" loading="lazy" width="600" height="800">
        </figure>
        <figcaption>
          <div class="title-row">
            <div class="capline" id="heroTitle">â€”</div>
            <span class="badge-size" id="sizeBadge" aria-label="æ´»å‹•æŒ‡æ•°ã‚µã‚¤ã‚º">â€”</span>
          </div>
          <div class="poem" id="heroPoem">â€”</div>
          <div class="capmini" id="heroCopy">â€”</div>
        </figcaption>
      </div>

      <!-- æ•°å€¤ -->
      <div class="grid2">
        <article class="stat" aria-label="ã‚¹ã‚³ã‚¢å†…è¨³">
          <div><strong>ã‚¹ã‚³ã‚¢</strong></div>
          <div class="small" style="line-height:1.8">
            ğŸ¶ DOGï¼š<strong id="dogVal">0</strong> / 24<br>
            ğŸ± CATï¼š<strong id="catVal">0</strong> / 24<br>
            Î”Dï¼ˆDOGâˆ’CATï¼‰ï¼š<strong id="dVal">0</strong>ï¼ˆâˆ’24ã€œ+24ï¼‰<br>
            ACTï¼ˆæ´»å‹•æŒ‡æ•°ï¼‰ï¼š<strong id="actVal">0</strong> / 12
          </div>
        </article>
        <article class="stat" aria-label="DOG/CATãƒãƒ¼">
          <div><strong>ãƒãƒ¼è¡¨ç¤º</strong></div>
          <div class="bar" style="margin-top:6px">
            <div>ğŸ¶ DOG</div>
            <div class="row" aria-hidden="true"><span id="dogBar" style="width:0%"></span></div>
          </div>
          <div class="bar" style="margin-top:10px">
            <div>ğŸ± CAT</div>
            <div class="row" aria-hidden="true"><span id="catBar" style="width:0%"></span></div>
          </div>
          <div class="small" id="pctLine" style="margin-top:6px">DOGï¼š<span id="dogPct">0%</span> ï¼ CATï¼š<span id="catPct">0%</span></div>
<div class="small" style="margin-top:8px">â€»ACTã¯è¤‡æ•°é …ç›®ã®çµ„åˆã›ã‹ã‚‰ç®—å‡ºï¼ˆé™ç©å¿—å‘ã»ã©ä½ã€æ´»å‹•å¿—å‘ã»ã©é«˜ï¼‰ã€‚</div>
        </article>
      </div>

      <div class="hr"></div>
      <div id="longCopy" class="small"><!-- JS é•·æ–‡ã‚³ãƒ¡ãƒ³ãƒˆ --></div>

      <div class="hr"></div>
      <!-- ç ”ç©¶ãƒŸãƒ‹ã¾ã¨ã‚ -->
      <div class="section" id="researchSec">
        <strong>ã‚ã‚‹ç ”ç©¶ã§ã¯â€¦ï¼ˆçŠ¬ã¨çŒ«ã®â€œç§‘å­¦çš„ãƒ¡ãƒªãƒƒãƒˆâ€ï¼‰</strong>
        <ul class="small" id="researchList" style="margin:6px 0 0 18px;line-height:1.8"><!-- JS --></ul>
        <p class="small" style="margin-top:6px">â€»è¦³å¯Ÿç ”ç©¶ã‚„è‡ªå·±ç”³å‘ŠãŒä¸­å¿ƒã§ã€å¹³å‡å·®ã¯å°ã•ã‚ã€‚å› æœã¯æ–­å®šã§ãã¾ã›ã‚“ã€‚å€‹äººå·®ãŒã‚ã‚Šã¾ã™ã€‚</p>
      </div>

      <div class="hr"></div>
      <!-- ç§°å· -->
      <div class="section">
        <strong>ç§°å·</strong>
        <div class="klist" id="titleList"></div>
        <div class="small" id="comboNote" style="margin-top:6px">â€”</div>
      </div>

      <div class="back-area" style="margin-top:12px">
        <a class="back" href="/shindan/" id="backLink" aria-label="è¨ºæ–­ä¸€è¦§ã«æˆ»ã‚‹">è¨ºæ–­ä¸€è¦§ã«æˆ»ã‚‹</a>
      </div>

      <div class="hr"></div>
      <p class="small">ç ”ç©¶ãƒ¡ãƒ¢ï¼šã“ã“ã§è§¦ã‚Œã‚‹ãƒŸãƒ‹è±†çŸ¥è­˜ã¯å›½å†…å¤–ã®è¤‡æ•°èª¿æŸ»ã‚’ãƒ™ãƒ¼ã‚¹ã«ã—ãŸä¸€èˆ¬è«–ã§ã™ã€‚ç›¸é–¢ãŒä¸­å¿ƒã§å¹³å‡å·®ã¯å°ã•ã‚ã€å› æœé–¢ä¿‚ã¯æ˜ã‚‰ã‹ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚å€‹äººå·®ãŒå¤§ãã„ç‚¹ã‚’ã”ç†è§£ãã ã•ã„ã€‚</p>
    </div>
  </section>

  <section class="footer card">
    <h2 style="margin:4px 0 8px">ã”åˆ©ç”¨ã«ã‚ãŸã£ã¦</h2>
    <p class="warn"><strong>æ³¨æ„ï¼š</strong>ã“ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¯<b>ã‚¨ãƒ³ã‚¿ãƒ¡ç”¨ã®ã‚»ãƒ«ãƒ•ãƒã‚§ãƒƒã‚¯</b>ã§ã™ã€‚åŒ»ç™‚ãƒ»è¨ºæ–­ãƒ»æ²»ç™‚ãƒ»ã‚«ã‚¦ãƒ³ã‚»ãƒªãƒ³ã‚°ç­‰ã®ç›®çš„ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚çµæœã®è§£é‡ˆãƒ»åˆ©ç”¨ã¯ã”è‡ªèº«ã®åˆ¤æ–­ã¨è²¬ä»»ã«ã¦ãŠé¡˜ã„ã„ãŸã—ã¾ã™ã€‚<br>
å›ç­”ã¯ç«¯æœ«å†…ã§å‡¦ç†ãƒ»ä¿å­˜ã•ã‚Œã€å›ç­”å†…å®¹ã‚„å€‹äººã‚’ç‰¹å®šã§ãã‚‹æƒ…å ±ã¯ã‚µãƒ¼ãƒãƒ¼ã«é€ä¿¡ã•ã‚Œã¾ã›ã‚“ã€‚çµæœè¡¨ç¤ºæ™‚ã«åŒ¿åã®ä»¶æ•°ã‚«ã‚¦ãƒ³ãƒˆã®ã¿é€ä¿¡ã™ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚<br>
å®—æ•™çš„ãƒ»å€«ç†çš„ä¾¡å€¤åˆ¤æ–­ã‚’æ„å›³ã›ãšã€å› å­åãƒ»æ¯”å–©ã¯<b>æ¼”å‡ºè¡¨ç¾</b>ã§ã™ã€‚</p>
  </section>
</main>

<script>
(function(){
  var SLUG = "inu-neko";
  var TITLE = "çŠ¬æ´¾ï¼ŸçŒ«æ´¾ï¼Ÿè¨ºæ–­ï½œå®Œå…¨ç‰ˆ";
  var IMG_BASE = "/shindan/assets/results/inu-neko/";
  var ANS_KEY  = "specimens:"+SLUG+":answers";

  // ãƒ©ãƒ³ã‚¯å®šç¾©
  var RANKS = [
    {id:1, name:"å¤§çŒ«ï¼ˆãƒ¦ã‚­ãƒ’ãƒ§ã‚¦ï¼ãƒ’ãƒ§ã‚¦ï¼‰", label:"çŒ«ç§‘MAX",  range:[-24,-9], img:"01.png", alt:"å±±ç¨œã«ç«‹ã¤å¤§çŒ«ã®å½±",
      poem:"å¤œæ°—ã‚’ã¾ã¨ã„ã€é™ã‹ãªç›®ã§ä¸–ç•Œã‚’æ¸¬ã‚‹ã€‚ä½™ç™½ã“ãã€ã‚ãªãŸã®å‘¼å¸ã€‚"},
    {id:2, name:"å®¶çŒ«ï¼‹å±±çŒ«",               label:"çŒ«å¯„ã‚Š",    range:[-8,-3],  img:"02.png", alt:"æœˆæ˜ã‹ã‚Šã®è·¯åœ°ã«çŒ«ã®å½±",
      poem:"è·¯åœ°è£ã®ç¯ã‚Šã«èº«ã‚’å¯„ã›ã€å¥½å¥‡å¿ƒã¯ãã£ã¨çˆªå…ˆç«‹ã¡ã€‚"},
    {id:3, name:"çŠ¬Ã—çŒ«ãƒãƒ¼ãƒ•", label:"çŠ¬Ã—çŒ«", range:[-2,2],   img:"03.png", alt:"è‚©ã‚’ä¸¦ã¹ã‚‹çŠ¬ã¨çŒ«ã®ç›¸æ£’",
      poem:"æ˜¼ã¯ç¾¤ã‚Œã€å¤œã¯æ›¸æ–ã€‚çŠ¬ã®é™½æ°—ã¨çŒ«ã®ä½™ç™½ãŒã€ã²ã¨ã¤ã®ãƒãƒ¼ãƒ ã«ãªã‚‹ã€‚"},
    {id:4, name:"ç‰§ç¾ŠçŠ¬ï¼ãƒ¬ãƒˆãƒªãƒãƒ¼",        label:"çŠ¬å¯„ã‚Š",    range:[3,8],    img:"04.png", alt:"è‰åŸã‚’èµ°ã‚‹çŠ¬ã®å½±",
      poem:"åˆå›³ã²ã¨ã¤ã§é¢¨ãŒå‹•ãã€‚ä»²é–“ã®è¼ªã«ã€ã‚ãªãŸãŒç«ã‚’å…¥ã‚Œã‚‹ã€‚"},
    {id:5, name:"ã‚ªã‚ªã‚«ãƒŸï¼ãã‚ŠçŠ¬ç³»",        label:"çŠ¬ç§‘MAX",  range:[9,24],   img:"05.png", alt:"ã‚ªãƒ¼ãƒ­ãƒ©ã®ä¸‹ã§é å ãˆã™ã‚‹ç‹¼",
      poem:"ç™½ã„æ¯ã¯æ——å°ã€‚å…ˆé ­ã‚’èµ°ã‚Šã€é“ã‚’ä½œã‚‹ã€‚"}
  ];

  function sizeBadge(act){
    if(act<=4)  return {key:"Small", text:"Smallï¼ˆé™ç©å¿—å‘ï¼‰"};
    if(act<=8)  return {key:"Mid",   text:"Midï¼ˆä¸­åº¸ï¼‰"};
    return {key:"Large", text:"Largeï¼ˆæ´»å‹•å¿—å‘ï¼‰"};
  }

  // è¨­å•ãƒªã‚¹ãƒˆï¼ˆbonusãŒtrueã®ã‚‚ã®ã¯ä»»æ„ï¼‰
  var ITEMS = [
    // çŠ¬åº¦ï¼ˆDOGï¼‰
    {id:1,  cat:false, text:"åˆå¯¾é¢ã®äººã¨ã‚‚ã™ãæ‰“ã¡è§£ã‘ã‚‹ã»ã†ã ã€‚"},
    {id:2,  cat:false, text:"ã¿ã‚“ãªã§å‹•ãäºˆå®šãŒã‚ã‚‹ã¨ã‚¨ãƒãƒ«ã‚®ãƒ¼ãŒæ¹§ãã€‚"},
    {id:3,  cat:false, text:"ç· åˆ‡ã‚„ãƒ«ãƒ¼ãƒ«ãŒã‚ã‚‹ã»ã†ãŒå®‰å¿ƒã—ã¦å‹•ã‘ã‚‹ã€‚"},
    {id:4,  cat:false, text:"èª°ã‹ã®ãŸã‚ã«å½¹å‰²ã‚’å¼•ãå—ã‘ã‚‹ã®ãŒå¥½ãã ã€‚"},
    {id:5,  cat:false, text:"å¤–ã«å‡ºã¦ä½“ã‚’å‹•ã‹ã™ã¨æ°—åˆ†ãŒæ•´ã†ã€‚"},
    {id:6,  cat:false, text:"ãƒãƒ¼ãƒ ã§ã®å£°ã‹ã‘ãƒ»åŠ±ã¾ã—ã‚’ã‚ˆãã™ã‚‹ã€‚"},
    // çŒ«åº¦ï¼ˆCATï¼‰
    {id:7,  cat:true,  text:"ä¸€äººã®æ²¡é ­æ™‚é–“ãŒãªã„ã¨èª¿å­ãŒè½ã¡ã‚‹ã€‚"},
    {id:8,  cat:true,  text:"äºˆå®šã¯ã‚†ã‚‹ã‚ã§ä½™ç™½ãŒã»ã—ã„ã€‚"},
    {id:9,  cat:true,  text:"æ–°ã—ã„è¡¨ç¾ã‚„ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’è©¦ã™ã®ãŒæ¥½ã—ã„ã€‚"},
    {id:10, cat:true,  text:"äººæ··ã¿ã‚„å¤§ããªéŸ³ã§ç–²ã‚Œã‚„ã™ã„ã€‚"},
    {id:11, cat:true,  text:"è‡ªåˆ†ã®ãƒšãƒ¼ã‚¹ã‚„ã“ã ã‚ã‚Šã‚’å¤§äº‹ã«ã™ã‚‹ã€‚"},
    {id:12, cat:true,  text:"å¤§å‹¢ã‚ˆã‚Šå°‘äººæ•°ã‚„1å¯¾1ã®ã»ã†ãŒæ·±ãè©±ã›ã‚‹ã€‚"},
    // ãƒœãƒ¼ãƒŠã‚¹ï¼ˆæ¡ç‚¹å¤–ãƒ»ä»»æ„ï¼‰
    {id:13, cat:true,  bonus:true, badge:"cat", text:"çŒ«ã¯ç¥æ§˜ã§ã‚ã‚‹ã€‚äººé–“ã¯ä¸‹åƒ•ã«ãªã‚‹ã¹ãã ã€‚"},
    {id:14, cat:false, bonus:true, badge:"dog", text:"çŠ¬ã¯æœ€è‰¯ã®ç›¸æ£’ã ã€‚äººã¯ã‚ˆã‚ã“ã‚“ã§æ•£æ­©ä¿‚ã«ãªã‚‹ã¹ãã ã€‚"}
  ];
  var LABELS = ["0 ã¾ã£ãŸããªã„","1 ã‚ã¾ã‚Šãªã„","2 ã©ã¡ã‚‰ã¨ã‚‚","3 ã ã„ãŸã„","4 ã¨ã¦ã‚‚"];

  // ç§°å·
  var CAT_TITLES = [
    {name:"äººé¡ä»£è¡¨", icon:"ğŸ§‘â€âš–ï¸", blurb:"å¯¾ç­‰ã«æ¡æ‰‹æ´¾ã€‚"},
    {name:"å…±å­˜æ´¾",   icon:"ğŸ¤",    blurb:"æ•¬æ„ã¯æ‰•ã†ã€ãŒåŸºæœ¬ã€‚"},
    {name:"åŒå±…äºº",   icon:"ğŸ ğŸ¾",  blurb:"åˆ†æ‹…ã§å¹³å’Œã€‚"},
    {name:"æ•¬çŒ«åŒç›Ÿå£«", icon:"ğŸ˜¼âœ¨", blurb:"å´‡æ‹ã€èª²é‡‘ã¯æ§ãˆã‚ã€‚"},
    {name:"æ­£å¼ä¸‹åƒ•", icon:"ğŸ™‡â€â™‚ï¸ğŸ‘‘", blurb:"ã™ã¹ã¦ã¯é™›ä¸‹ã®ãŸã‚ã€‚"}
  ];
  var DOG_TITLES = [
    {name:"ã‚½ãƒ­å†’é™ºè€…", icon:"ğŸ§­",   blurb:"ã¾ãšã¯è‡ªåˆ†ã®è¶³ã§ã€‚"},
    {name:"å‹å¥½çš„è¦³å¯Ÿè€…", icon:"ğŸ‘€ğŸ¶", blurb:"è·é›¢ã¯ä¿ã¡ã¤ã¤å¥½æ„çš„ã€‚"},
    {name:"ç›¸æ£’å¿—æœ›",   icon:"ğŸ¾",   blurb:"ãŸã¶ã‚“ç›¸æ€§ã¯ã„ã„ã€‚"},
    {name:"çŠ¬å‹åŒç›Ÿå£«", icon:"ğŸ¤ğŸ•", blurb:"å…±ã«æ­©ãå‰æã€‚"},
    {name:"åèª‰æ•£æ­©ä¿‚", icon:"ğŸ¦®ğŸ…", blurb:"æ•£æ­©ãŒæ­£ç¾©ã€æ¯æ—¥è¡Œãã€‚"}
  ];

  // é•·æ–‡ï¼ˆãƒ•ãƒ¬ãƒ¼ã‚ºæ’¤å»ãƒ»é‡è¤‡å‰Šé™¤ï¼‰
var LONG_COPY = {
  1: { text: "ã€çŒ«ç§‘MAXï½œå¤§çŒ«ã€‘é™ã‹ãªå ´æ‰€ã§åŠ›ã‚’ãŸã‚ã€ã²ã¨ã‚Šã®æ™‚é–“ã«ã‚¢ã‚¤ãƒ‡ã‚¢ãŒè‚²ã¤ã‚¿ã‚¤ãƒ—ã€‚äººãŒå¤šã„ã¨ã“ã‚ã‚„å¤§ããªéŸ³ãŒç¶šãã¨ç–²ã‚Œã‚„ã™ã„ã‘ã‚Œã©ã€çª“è¾ºã®ã²ãªãŸã®ã‚ˆã†ãªè½ã¡ç€ãå ´æ‰€ãŒã‚ã‚‹ã¨æœ¬é ˜ç™ºæ®ã€‚äºˆå®šã‚’è©°ã‚ã™ããšã€æ·±å‘¼å¸ã§ãã‚‹â€œé–“â€ã‚’1ã‚³ãƒå…¥ã‚Œã‚‹ã¨ã€çŒ«ã®ã‚ˆã†ã«ã—ãªã‚„ã‹ã«å‹•ã‘ã¾ã™ã€‚" },
  2: { text: "ã€çŒ«å¯„ã‚Šï½œå®¶çŒ«ï¼‹å±±çŒ«ã€‘å®¶ã®å®‰å¿ƒæ„Ÿã‚’å¤§åˆ‡ã«ã—ã¤ã¤ã€ã¨ãã©ãæ°—ã¾ã¾ã«æ¢æ¤œã™ã‚‹ã‚¿ã‚¤ãƒ—ã€‚é€£çµ¡ã¯å°‘ã—è€ƒãˆã¦ã‹ã‚‰è¿”ã—ãŸã„ã—ã€é“å…·ã¯é•·ãä»˜ãåˆã„ãŸã„ã€‚å¸­ã¯å‡ºå£ã«è¿‘ã„ã»ã†ãŒå®‰å¿ƒã€ä¼‘æ†©ã®åˆå›³ã‚’æ±ºã‚ã¦ãŠãã¨æ°—æŒã¡ãŒã‚„ã‚ã‚‰ã‹ãã¤ãªãŒã‚Šã¾ã™ã€‚çŒ«ã®ã‚ˆã†ã«ã€è‡ªåˆ†ã®ãƒšãƒ¼ã‚¹ã‚’æŠ±ãã—ã‚ã¦OKã€‚" },
  3: { text: "ã€çŠ¬Ã—çŒ«ãƒãƒ¼ãƒ•ã€‘å¤–ã§ã¯çŠ¬ã®ã‚ˆã†ã«ã¿ã‚“ãªã§å‹•ãã€å®¶ã§ã¯çŒ«ã®ã‚ˆã†ã«é™ã‹ã«æ•´ãˆã‚‹ã€ã¡ã‚‡ã†ã©çœŸã‚“ä¸­ã®ã‚¿ã‚¤ãƒ—ã€‚äºˆå®šã¯â€œãƒãƒ¼ãƒ ã§ä½œã‚‹â†’ä¸€äººã§ä»•ä¸Šã’ã‚‹â€ã®æµã‚ŒãŒåˆã„ã‚„ã™ã„ã€‚ã©ã¡ã‚‰ã‹ä¸€æ–¹ã«æ±ºã‚ãªãã¦ã„ã„ã®ãŒå¼·ã¿ã€‚å ´ã«åˆã‚ã›ã¦è€³ã¨ã—ã£ã½ã‚’åˆ‡ã‚Šæ›¿ãˆã‚Œã°ã€é•·ãæ°—æŒã¡ã‚ˆãèµ°ã‚Œã¾ã™ã€‚" },
  4: { text: "ã€çŠ¬å¯„ã‚Šï½œç‰§ç¾ŠçŠ¬ï¼ãƒ¬ãƒˆãƒªãƒãƒ¼ã€‘èª°ã‹ã®å½¹ã«ç«‹ã¤ã¨å…ƒæ°—ãŒå‡ºã¦ã€åˆå›³ã²ã¨ã¤ã§å ´ã‚’å‰ã«é€²ã‚ã‚‰ã‚Œã‚‹ã‚¿ã‚¤ãƒ—ã€‚äººã®é¢å€’ã‚’ã‚ˆãè¦‹ã‚‹ã¶ã‚“ã€è‡ªåˆ†ã®ä¼‘æ†©ã‚‚â€œå½¹å‰²â€ã¨ã—ã¦ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã«ã€‚çŠ¬ã®æ•£æ­©ã¿ãŸã„ã«ã€è»½ãæ­©ããªãŒã‚‰è©±ã™ã¨ã€æ°—åˆ†ã‚‚ä¼šè©±ã‚‚ã‚¹ãƒ ãƒ¼ã‚ºã«ãªã‚Šã¾ã™ã€‚" },
  5: { text: "ã€çŠ¬ç§‘MAXï½œã‚ªã‚ªã‚«ãƒŸã€‘ç›®æ¨™ãŒè¦‹ãˆã‚‹ã¨ä¸€æ°—ã«åŠ é€Ÿã—ã€ç¾¤ã‚Œã‚’å°ã‘ã‚‹ã‚¿ã‚¤ãƒ—ã€‚æœå¤•ã®â€œæ•£æ­©â€ã®ã‚ˆã†ãªãƒªã‚ºãƒ ãŒæ•´ã†ã¨é ­ã‚‚å¿ƒã‚‚å®‰å®šã€‚äºˆå®šãŒå¤šã„æ—¥ã¯ã€ã‚ãˆã¦æ­¢ã¾ã‚‹æ™‚é–“ã‚’ãƒªãƒ¼ãƒ‰ã«çµã‚“ã§ãŠãã®ãŒã‚³ãƒ„ã€‚èµ°ã‚‹æ™‚ã¯åŠ›å¼·ãã€æ­¢ã¾ã‚‹æ™‚ã¯ã—ã£ã‹ã‚Šã€‚çŠ¬ã‚‰ã—ã„ã¾ã£ã™ãã•ãŒã€å‘¨ã‚Šã®å®‰å¿ƒã«ã‚‚ã¤ãªãŒã‚Šã¾ã™ã€‚" }
};

  // è¦ç´ å‚ç…§
  var qWrap   = document.getElementById("qWrap");
  var prog    = document.getElementById("prog");
  var resEmpty= document.getElementById("resEmpty");
  var resArea = document.getElementById("resArea");
  var typeLine= document.getElementById("typeLine");
  var heroImg = document.getElementById("heroImg");
  var heroTitle= document.getElementById("heroTitle");
  var heroPoem = document.getElementById("heroPoem");
  var heroCopy = document.getElementById("heroCopy");
  var sizeBadgeEl = document.getElementById("sizeBadge");
  var dogVal  = document.getElementById("dogVal");
  var catVal  = document.getElementById("catVal");
  var dVal    = document.getElementById("dVal");
  var actVal  = document.getElementById("actVal");
  var dogBar  = document.getElementById("dogBar");
  var catBar  = document.getElementById("catBar");
  var longCopy= document.getElementById("longCopy");
  var researchList = document.getElementById("researchList");
  var titleList = document.getElementById("titleList");
  var comboNote = document.getElementById("comboNote");

  function shuffle(a){
    for(var i=a.length-1;i>0;i--){
      var j=Math.floor(Math.random()*(i+1));
      var t=a[i]; a[i]=a[j]; a[j]=t;
    }
    return a;
  }

  function buildQuestions(){
    // æœ¬ä½“12å•ã‚·ãƒ£ãƒƒãƒ•ãƒ«ï¼‹ãƒœãƒ¼ãƒŠã‚¹2å•ã¯æœ«å°¾å›ºå®š
    var main = shuffle(ITEMS.filter(function(q){return !q.bonus;}));
    var bonus= ITEMS.filter(function(q){return !!q.bonus;});
    var pool = main.concat(bonus);

    var html = "";
    for(var i=0;i<pool.length;i++){
      var q = pool[i];
      html += '<fieldset class="q" id="fs-'+q.id+'"'+(q.bonus?' data-bonus="1"':'')+'>'+
        '<legend>'+q.text+(q.bonus?' <span class="pill" aria-label="æ¡ç‚¹å¤–">æ¡ç‚¹å¤–</span>':'')+'</legend>'+
        '<div class="scale" role="radiogroup" aria-label="'+q.text+'">';
      for(var v=0;v<=4;v++){
        html += '<div style="position:relative">'+
          '<input id="q'+q.id+'-'+v+'" type="radio" name="q'+q.id+'" value="'+v+'">'+
          '<label for="q'+q.id+'-'+v+'" title="'+LABELS[v]+'">'+LABELS[v]+'</label>'+
        '</div>';
      }
      html += '</div></fieldset>';
    }
    qWrap.innerHTML = html;

  var radios = qWrap.querySelectorAll('input[type="radio"]');
for(var r=0;r<radios.length;r++){
  radios[r].addEventListener('change', function(){
    saveAnswers();
    updateProgress();
  }, false);
}
restoreAnswers();
updateProgress();
}

  function updateProgress(){
  var requiredFs = qWrap.querySelectorAll('fieldset.q:not([data-bonus="1"])');
  var total = requiredFs.length;
  var answered = 0;
  for(var i=0;i<requiredFs.length;i++){
    if(requiredFs[i].querySelector('input[type="radio"]:checked')) answered++;
  }
  var pct = Math.round(100*answered/total);
  prog.style.width = pct + "%";
  var bar = prog.parentElement;
  if(bar){
    bar.setAttribute("aria-valuemin","0");
    bar.setAttribute("aria-valuemax", String(total));
    bar.setAttribute("aria-valuenow", String(answered));
    bar.setAttribute("aria-label", "å›ç­”é€²æ—ï¼š"+answered+" / "+total);
  }
}
// å›ç­”ã®ä¿å­˜/å¾©å…ƒï¼ˆQ01..Q14ï¼‰ â€” kusemonäº’æ›
function saveAnswers(){
  try{
    var out = {};
    // æœ¬ä½“12ï¼‹ãƒœãƒ¼ãƒŠã‚¹2ï¼ˆå­˜åœ¨ã™ã‚‹ã‚‚ã®ã ã‘æ‹¾ã†ï¼‰
    for(var i=1;i<=14;i++){
      var chk = qWrap.querySelector('#fs-'+i+' input[type="radio"]:checked');
      if(chk){ out["Q"+String(i).padStart(2,"0")] = parseInt(chk.value,10); }
    }
    localStorage.setItem(ANS_KEY, JSON.stringify({ts: Date.now(), ans: out}));
  }catch(e){}
}
function restoreAnswers(){
  try{
    var raw = localStorage.getItem(ANS_KEY);
    if(!raw) return;
    var data = JSON.parse(raw), ans = (data && data.ans) || {};
    Object.keys(ans).forEach(function(qk){
      var id = parseInt(qk.replace(/^Q/,""),10);
      var v  = ans[qk];
      var input = qWrap.querySelector('#q'+id+'-'+v);
      if(input){ input.checked = true; }
    });
  }catch(e){}
}
function wipeAnswers(){ try{ localStorage.removeItem(ANS_KEY); }catch(e){} }

  function score(){
  saveAnswers(); // ç›´å‰ã®å…¥åŠ›ã‚‚ç¢ºå®Ÿã«ä¿å­˜
    var missing = [];
    var ans = {};

    // ã¾ãšæœ¬ä½“12å•ã®ã¿å¿…é ˆãƒã‚§ãƒƒã‚¯
    var required = ITEMS.filter(function(q){return !q.bonus;});
    for(var i=0;i<required.length;i++){
      var q = required[i];
      var chk = qWrap.querySelector('#fs-'+q.id+' input[type="radio"]:checked');
      var raw = chk ? parseInt(chk.value,10) : null;
      if(raw===null){ missing.push(q.id); continue; }
      ans[q.id] = raw;
    }
    // ãƒœãƒ¼ãƒŠã‚¹ã¯ä»»æ„ï¼ˆæœªå›ç­”ã¯è¨˜éŒ²ã—ãªã„ï¼‰
    var bonus = ITEMS.filter(function(q){return !!q.bonus;});
    for(var j=0;j<bonus.length;j++){
      var qb = bonus[j];
      var chkb = qWrap.querySelector('#fs-'+qb.id+' input[type="radio"]:checked');
      if(chkb){ ans[qb.id] = parseInt(chkb.value,10); }
    }

    if(missing.length){
      alert("æœªå›ç­”ãŒã‚ã‚Šã¾ã™ã€‚æœ¬ä½“12å•ã«å›ç­”ã—ã¦ãã ã•ã„ã€‚ï¼ˆãƒœãƒ¼ãƒŠã‚¹2å•ã¯ä»»æ„ï¼‰");
      var fs = document.getElementById('fs-'+missing[0]);
      if(fs){ fs.scrollIntoView({behavior:"smooth", block:"center"}); fs.classList.add("need"); setTimeout(function(){ fs.classList.remove("need"); },1600); }
      return;
    }

    // é›†è¨ˆï¼ˆæœ¬ä½“ã®ã¿ï¼‰
    var dog=0, cat=0;
    for(var k=0;k<required.length;k++){
      var rq = required[k];
      var v = (ans[rq.id] != null ? ans[rq.id] : 0);
      if(rq.cat) cat += v; else dog += v;
    }
    var D = dog - cat;
    var act = ((ans[2]||0) + (ans[5]||0) + (4 - (ans[10]||0))); // Q10ã¯æœ¬ä½“

    render({dog:dog, cat:cat, D:D, act:act, ans:ans});
  }

  function rankOf(D){
    for(var i=0;i<RANKS.length;i++){
      var r = RANKS[i];
      if(D>=r.range[0] && D<=r.range[1]) return r;
    }
    return RANKS[2];
  }

  function bonusTitles(ans){
    var c = ans[13];
    var d = ans[14];
    var res = [];
    if(typeof c==="number"){ var ct = CAT_TITLES[c]; res.push({who:"çŒ«", name:ct.name, icon:ct.icon, blurb:ct.blurb}); }
    if(typeof d==="number"){ var dt = DOG_TITLES[d]; res.push({who:"çŠ¬", name:dt.name, icon:dt.icon, blurb:dt.blurb}); }
    return {list:res, c:c, d:d};
  }

  function render(o){
    var rank = rankOf(o.D);
    var size = sizeBadge(o.act);

    typeLine.textContent = rank.label+"ï½œ"+rank.name+"ï¼ˆD="+(o.D>=0?("+"+o.D):o.D)+"ï¼‰";
    heroImg.src = IMG_BASE + rank.img;
    heroImg.alt = rank.alt;
    heroTitle.textContent = 'ã‚ãªãŸã¯ã€Œ'+rank.label+'ï½œ'+rank.name+'ã€';
    sizeBadgeEl.textContent = size.text;
    heroPoem.textContent = rank.poem;

    var LC = LONG_COPY[rank.id];
    heroCopy.textContent = LC.text.split("ã€‚")[0] + "ã€‚";
    longCopy.textContent = LC.text;

    dogVal.textContent = o.dog;
    catVal.textContent = o.cat;
    dVal.textContent   = (o.D>=0?("+"+o.D):o.D);
    actVal.textContent = o.act;
    var dogP = Math.round(o.dog/24*100);
var catP = Math.round(o.cat/24*100);
dogBar.style.width = dogP + "%";
catBar.style.width = catP + "%";
var dp = document.getElementById("dogPct"), cp = document.getElementById("catPct");
if(dp) dp.textContent = dogP + "%";
if(cp) cp.textContent = catP + "%";

  /* ç ”ç©¶ãƒŸãƒ‹ã¾ã¨ã‚ï¼ˆã‚„ã•ã—ã„æ—¥æœ¬èªãƒ»ä»¶æ•°å¤šã‚ï¼‰ */
var DOG_BEN = [
  "çŠ¬ã¨ã„ã£ã—ã‚‡ã«æš®ã‚‰ã™äººã¯ã€<b>æ­©ãæ™‚é–“ãŒé•·ã„</b>ã¨ã„ã†å ±å‘ŠãŒã„ãã¤ã‹ã‚ã‚Šã¾ã™ï¼ˆç†ç”±ã¯ã¯ã£ãã‚Šã—ã¾ã›ã‚“ï¼‰ã€‚",
  "çŠ¬ã«ã•ã‚ã£ãŸã‚ã¨<b>æ°—åˆ†ãŒè‰¯ããªã£ãŸ</b>ã¨ã„ã†å®Ÿé¨“ã‚‚ã‚ã‚Šã¾ã™ï¼ˆäººã«ã‚ˆã‚Šã¾ã™ï¼‰ã€‚",
  "æœå¤•ã®<b>æ•£æ­©ãŒç”Ÿæ´»ãƒªã‚ºãƒ ã‚’æ•´ãˆã‚„ã™ã„</b>ã¨æ„Ÿã˜ã‚‹äººãŒå¤šã„ã€ã¨ã„ã†èª¿æŸ»ãŒã‚ã‚Šã¾ã™ã€‚",
  "çŠ¬ãŒã„ã‚‹ã¨<b>ä¼šè©±ãŒå¢—ãˆãŸ</b>ã¨ã„ã†è¦³å¯Ÿã‚‚ã‚ã‚Šã¾ã™ï¼ˆå ´ã¥ãã‚Šã®åŠ¹æœã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ï¼‰ã€‚",
  "çŠ¬ã®å­˜åœ¨ãŒ<b>é‹å‹•ã®ãã£ã‹ã‘</b>ã«ãªã‚‹äººãŒã„ã‚‹ã€ã¨ã„ã†å ±å‘Šã‚‚ã‚ã‚Šã¾ã™ï¼ˆå› æœã¯ä¸æ˜ï¼‰ã€‚"
];
var CAT_BEN = [
  "çŒ«ã‚’ãªã§ã‚‹ã¨<b>å¿ƒãŒè½ã¡ç€ã</b>ã¨ç­”ãˆã‚‹äººãŒå¤šã„ã€ã¨ã„ã†èª¿æŸ»ãŒã‚ã‚Šã¾ã™ã€‚",
  "çŒ«ã¨é™ã‹ã«éã”ã™ã“ã¨ã§<b>å®‰å¿ƒã—ã‚„ã™ã„</b>äººãŒã„ã‚‹ã€ã¨ã„ã†å ±å‘Šã‚‚ã‚ã‚Šã¾ã™ã€‚",
  "çŒ«ã®<b>ã‚´ãƒ­ã‚´ãƒ­éŸ³</b>ãŒå¿ƒåœ°ã‚ˆã„ã¨æ„Ÿã˜ã‚‹äººãŒå¤šã„ã€ã¨ã„ã†ä»®èª¬çš„ãªè©±ã‚‚ã‚ã‚Šã¾ã™ï¼ˆæ¤œè¨¼é€”ä¸­ï¼‰ã€‚",
  "çŒ«å¥½ãã¯<b>ä¸€äººã®é›†ä¸­æ™‚é–“ã‚’å¤§äº‹ã«ã™ã‚‹</b>å‚¾å‘ãŒã‚ã‚‹ã€ã¨ã„ã†èª¿æŸ»ã‚‚ã‚ã‚Šã¾ã™ï¼ˆå·®ã¯å°ã•ã‚ï¼‰ã€‚",
  "çŒ«ã¨æš®ã‚‰ã™äººã¯<b>å®¶ã§éã”ã™æ™‚é–“ãŒå¢—ãˆãŸ</b>ã¨ç­”ãˆã‚‹ã“ã¨ãŒã‚ã‚‹ã€ã¨ã„ã†å ±å‘Šã‚‚ã‚ã‚Šã¾ã™ã€‚"
];
// å‚¾å‘å´ã‚’å¤šã‚ï¼‹åå¯¾å´ã‚‚å°‘ã—
var resItems = (o.D >= 0)
  ? DOG_BEN.slice(0,3).concat(CAT_BEN.slice(0,2))
  : CAT_BEN.slice(0,3).concat(DOG_BEN.slice(0,2));
researchList.innerHTML = resItems.map(function(s){return "<li>"+s+"</li>";}).join("");

    // ç§°å·ï¼ˆå›ç­”ãŒã‚ã‚Œã°è¡¨ç¤ºï¼‰
    var bt = bonusTitles(o.ans);
    if(bt.list.length){
      var tHtml = "";
      for(var k=0;k<bt.list.length;k++){
        var t = bt.list[k];
        tHtml += "<span class='kpill'>ã€"+t.who+"ã€‘"+t.name+" "+t.icon+" â€” "+t.blurb+"</span>";
      }
      titleList.innerHTML = tHtml;
    }else{
      titleList.innerHTML = "<span class='small'>ï¼ˆãƒœãƒ¼ãƒŠã‚¹æœªå›ç­”ï¼šç§°å·ãªã—ï¼‰</span>";
    }

    // ã‚³ãƒ³ãƒ“æ¼”å‡º
    var combo = "";
    if(typeof bt.c==="number" && typeof bt.d==="number" && bt.c>=3 && bt.d>=3){
      combo = "è¤‡ç§°å·ï¼š<b>äºŒé‡å¿ èª </b>ï¼ˆå¤–ã§ã¯ç¾¤ã‚Œé•·ã€å®¶ã§ã¯ä¸‹åƒ•ï¼‰";
    }
    if(rank.id===3 && typeof bt.c==="number" && bt.c>=3){
      combo += (combo? " ï¼ " : "") + "å‰¯ç§°å·ï¼š<b>äºŒé‡è‡£æ°‘</b>ï¼ˆçŠ¬ï¼ãŠã‚„ã¤ç¨ï¼çŒ«ï¼æ—¥å‘ç¨ï¼‰";
    }
    comboNote.innerHTML = combo || "â€”";

    // è¡¨ç¤ºåˆ‡æ›¿
    resEmpty.style.display = "none";
    resArea.style.display = "block"; // æ˜ç¤º
    var res = document.getElementById("result");
    if(res){ res.scrollIntoView({behavior:"smooth", block:"start"}); }

    // ä¸€è¦§ã€Œã¤ã¥ãã‹ã‚‰ã€
    try{
  document.dispatchEvent(new Event('result:ready'));
  localStorage.setItem("specimens:last", JSON.stringify({ id: SLUG, title: TITLE, href: location.pathname }));
}catch(e){}
  }

  function clearAnswers(){
  var radios = qWrap.querySelectorAll('input[type="radio"]');
  for(var i=0;i<radios.length;i++){ radios[i].checked=false; }
  try{ localStorage.removeItem(ANS_KEY); }catch(e){}
  prog.style.width = "0%";
  resEmpty.style.display = "";
  resArea.style.display = "none";
  var app = document.getElementById("app");
  if(app){ app.scrollIntoView({behavior:"smooth", block:"start"}); }
}

  // åˆæœŸåŒ–
  if(document.readyState === "loading"){
    document.addEventListener("DOMContentLoaded", function(){ buildQuestions(); });
  }else{
    buildQuestions();
  }
  document.getElementById("doScore").addEventListener("click", score, false);
  document.getElementById("doScore2").addEventListener("click", score, false);
  document.getElementById("clearAns").addEventListener("click", clearAnswers, false);
  var back = document.getElementById("backLink");
  if(back){
    back.addEventListener("click", function(){
      try{
        localStorage.setItem("specimens:last", JSON.stringify({ id: SLUG, title: TITLE, href: location.pathname }));
      }catch(e){}
    }, false);
  }
})();
</script>
<script>
/* ã“ã“ã‚Lv/æ¸ˆã‚«ã‚¦ãƒ³ãƒˆï¼ˆçµæœæç”»ã®åˆå›³ã§ä¸€åº¦ã ã‘ï¼‰ */
(function(){
  'use strict';
  var DONE_KEY    = 'specimens:open:byid';
  var TOTAL_KEY   = 'specimens:open:total';
  var GLOBAL_LAST = 'specimens:open:global:last';
  var MY_ID = (document.body && document.body.getAttribute('data-id')) || 'unknown';
  var COUNTAPI_NS  = 'haisuikounozarigani_shindan';
  var COUNTAPI_KEY = 'specimens_open_total';
  function hitEveryone(){
    var url = 'https://api.countapi.xyz/hit/'+COUNTAPI_NS+'/'+COUNTAPI_KEY;
    if(navigator.sendBeacon){ try{ navigator.sendBeacon(url); }catch(_){ }
    }else{ fetch(url, {mode:'cors', cache:'no-store', keepalive:true}).catch(function(){}); }
  }
  var marked=false;
  function markOnce(){
    if(marked) return; marked=true;
    try{
      localStorage.setItem(TOTAL_KEY, String((+localStorage.getItem(TOTAL_KEY)||0)+1));
      var map={}; try{ map=JSON.parse(localStorage.getItem(DONE_KEY)||'{}'); }catch(_){}
      map[MY_ID]=(map[MY_ID]||0)+1;
      localStorage.setItem(DONE_KEY, JSON.stringify(Object.assign({},map,{_ts:Date.now()})));
      hitEveryone();
      try{ localStorage.setItem(GLOBAL_LAST, String((+localStorage.getItem(GLOBAL_LAST)||0)+1)); }catch(_){}
    }catch(_){}
  }
  document.addEventListener('result:ready', markOnce);
  setTimeout(markOnce, 2000); // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
})();
</script>
</body>
</html>