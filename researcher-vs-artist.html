<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>ç ”ç©¶è€…vsèŠ¸è¡“å®¶ è¨ºæ–­ï½œ18å•ã§è¦‹ã‚‹ã€Œãƒ­ã‚¸ãƒƒã‚¯ã¨æ„Ÿæ€§ã®ç‹‚æ°—åº¦ã€</title>
<meta name="description" content="18å•ã§ã€ãƒ‡ãƒ¼ã‚¿ã§ä¸–ç•Œã‚’è¦‹ã‚‹â€œç ”ç©¶è€…ãƒã‚¤ãƒ³ãƒ‰â€ã¨ã€æ„Ÿè¦šã§ä¸–ç•Œã‚’å¡—ã‚Šæ›¿ãˆã‚‹â€œèŠ¸è¡“å®¶ãƒã‚¤ãƒ³ãƒ‰â€ã®ãƒãƒ©ãƒ³ã‚¹ã¨æ²¡é ­ã®ã—ã‹ãŸã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹è¨ºæ–­ã€‚äº‹å®Ÿã‚¢ãƒ³ã‚«ãƒ¼ãƒ»æ§‹é€ ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ»ã²ã‚‰ã‚ãã‚¹ãƒ‘ãƒ¼ã‚¯ãƒ»ç¾æ„è­˜ã‚»ãƒ³ã‚µãƒ¼ãƒ»æ²¡é ­ã‚¹ã‚¤ãƒƒãƒã®5å› å­ã‹ã‚‰ã€ã‚ãªãŸã®ç‹‚æ°—ã®æ–¹å‘æ€§ã‚’å¯è¦–åŒ–ã—ã¾ã™ã€‚">
<meta name="theme-color" content="#fff7fd">

<!-- OG -->
<meta property="og:type" content="website">
<meta property="og:title" content="ç ”ç©¶è€…vsèŠ¸è¡“å®¶ è¨ºæ–­">
<meta property="og:description" content="18å•ã§ãƒ­ã‚¸ãƒƒã‚¯ã¨æ„Ÿæ€§ã®ãƒãƒ©ãƒ³ã‚¹ã€ãã—ã¦â€œç‹‚æ°—â€ã®å‘ãå…ˆã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹è¨ºæ–­ã€‚ç ”ç©¶å®¤ãƒã‚¤ãƒ³ãƒ‰ã¨ã‚¢ãƒˆãƒªã‚¨ãƒã‚¤ãƒ³ãƒ‰ã€ã‚ãªãŸã¯ã©ã¡ã‚‰å¯„ã‚Šï¼Ÿ">
<meta property="og:url" content="https://haisuikounozarigani.github.io/shindan/researcher-vs-artist.html">
<meta property="og:image" content="https://haisuikounozarigani.github.io/shindan/assets/results/researcher-vs-artist/t00.webp">

<style>
:root{
  --bg:#fdf7ff;
  --paper:#fff;
  --ink:#201322;
  --muted:#6a5b70;
  --line:#ece3f5;
  --accent:#8c6bff;   /* hot */
  --accent2:#ff8fc7;  /* duo */
}
html,body{
  margin:0;padding:0;
  background:var(--bg);
  color:var(--ink);
  font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Noto Sans JP","Hiragino Sans","Hiragino Kaku Gothic ProN","Yu Gothic",Meiryo,sans-serif;
}
a{color:#5b2ea8;text-decoration:none}
.wrap{max-width:980px;margin:0 auto;padding:16px}
header.hd{
  background:linear-gradient(160deg,#fff7fd,#f3ecff);
  border-bottom:1px solid var(--line);
}
header.hd .wrap{padding:20px 16px 10px}
.ttl{
  font-weight:800;font-size:1.35rem;letter-spacing:.02em;
  display:flex;gap:8px;align-items:center;flex-wrap:wrap;
}
.sub{color:var(--muted);font-size:.95rem}

/* ãƒ©ãƒ³ã‚¯ãƒãƒƒã‚¸ï¼ˆãƒ˜ãƒƒãƒ€ï¼‰ */
.rank{
  display:inline-flex;
  align-items:center;
  gap:4px;
  padding:.2em .7em;
  border-radius:999px;
  background:#f3e9ff;
  color:#4b266e;
  font-weight:700;
  font-size:.85rem;
}

/* å›ºå®šé€²æ—ãƒãƒ¼ï¼ˆnohæº–æ‹ ï¼‰ */
.progress-fixed{
  position:sticky;top:0;z-index:20;
  height:8px;background:var(--line)
}
.progress-bar{
  height:100%;border-radius:6px;
  background:linear-gradient(90deg,var(--accent),var(--accent2));
  transition:width .2s ease
}
[role="progressbar"]{width:100%}

/* ãƒ’ãƒ¼ãƒ­ãƒ¼ */
figure.hero{
  margin:12px 0;
  border:1px solid var(--line);
  border-radius:16px;
  overflow:hidden;
  background:#fff;
}
figure.hero img{
  display:block;width:100%;height:auto;
}

/* å…±é€šã‚«ãƒ¼ãƒ‰ */
.paper{
  background:var(--paper);
  border:1px solid var(--line);
  border-radius:16px;
  padding:16px;
  margin:14px 0;
}

/* ãƒ—ãƒ­ãƒ­ãƒ¼ã‚° */
#prologue h2{
  margin-top:0;
  font-size:1.1rem;
}
#prologue p{margin:.4rem 0}
#prologue .note{
  color:var(--muted);
  font-size:.9rem;
}
.start-btn{
  margin-top:12px;
  width:100%;
  padding:12px 16px;
  border-radius:999px;
  border:1px solid var(--accent);
  background:linear-gradient(135deg,var(--accent),var(--accent2));
  color:#fff;
  font-weight:700;
  letter-spacing:.03em;
  cursor:pointer;
  box-shadow:0 4px 10px rgba(0,0,0,.08);
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:6px;
}
.start-btn span.emo{font-size:1.2rem}

/* è³ªå•ã‚¨ãƒªã‚¢ */
.qhead{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:8px;
}
.qnum{font-weight:700;color:#4c2b5f}
.qtag{
  font-size:.8rem;
  color:#7a6c86;
  padding:2px 8px;
  border-radius:999px;
  border:1px solid var(--line);
  background:#f9f3ff;
  display:inline-flex;
  align-items:center;
  gap:4px;
}
.qtext{margin:.6rem 0 1rem}
.opts{
  display:grid;
  grid-template-columns:1fr;
  gap:8px;
}
.btn{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  padding:12px 14px;
  border:1px solid var(--line);
  border-radius:12px;
  background:#fff;
  cursor:pointer;
  transition:.12s;
}
.btn[aria-pressed="true"]{
  outline:2px solid var(--accent2);
  background:#fff4fa;
}
.btn:hover{transform:translateY(-1px)}
.btn-label{font-weight:500}
.opt-note{color:#8b7b93;font-size:.9rem}
.ctrls{
  display:flex;
  gap:8px;
  margin-top:12px;
}
.ctrls button{
  padding:10px 14px;
  border-radius:10px;
  border:1px solid var(--line);
  background:#faf5ff;
  cursor:pointer;
}

/* çµæœã‚¨ãƒªã‚¢ */
.result{display:none}
.flex{display:flex;gap:16px;flex-wrap:wrap}
.result .imgbox{
  flex:1 1 280px;
  min-width:260px;
}
.result .imgbox img{
  width:100%;height:auto;
  border-radius:14px;
  border:1px solid var(--line);
  display:block;
}
.result .text{
  flex:2 1 360px;
  min-width:300px;
}
.result-title-main{
  margin:.2rem 0 0;
}
.result-title-sub{
  margin:.1rem 0 .6rem;
  font-size:.9rem;
  color:var(--muted);
}
.badge-line{
  display:flex;
  flex-wrap:wrap;
  gap:6px;
  align-items:center;
  margin:.2rem 0 .4rem;
}
.badge-pill{
  display:inline-flex;
  align-items:center;
  gap:4px;
  padding:2px 10px;
  border-radius:999px;
  background:#fff1fb;
  font-size:.85rem;
}

/* å› å­ãƒãƒ¼ */
.bars{
  display:grid;
  grid-template-columns:1fr;
  gap:10px;
  margin-top:10px;
}
.bar{
  background:transparent;
  border-radius:10px;
  padding:4px 0 6px;
}
.bar .h{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:2px 10px 4px;
  font-size:.9rem;
}
.bar .h span:first-child{font-weight:600}
.bar .track{
  margin:0 10px 4px;
  height:10px;
  border-radius:999px;
  background:#f3e9ff;
  overflow:hidden;
}
.bar .fill{
  height:100%;
  width:0%;
  background:linear-gradient(90deg,var(--accent),var(--accent2));
  border-radius:inherit;
  transition:width .25s ease-out;
}
.bar-desc{
  padding:0 10px 2px;
  font-size:.8rem;
  color:var(--muted);
}

/* å‰å›å›ç­” */
.prev-list{
  list-style:none;
  padding-left:0;
  margin:.4rem 0 .2rem .9rem;
}
.prev-item{
  display:flex;
  gap:8px;
  align-items:flex-start;
  padding:6px 0;
  border-bottom:1px solid var(--line);
}
.prev-q{
  flex:1;min-width:0;
  display:-webkit-box;
  -webkit-box-orient:vertical;
  -webkit-line-clamp:2;
  overflow:hidden;
  overflow-wrap:anywhere;
}
.prev-a{
  flex:0 0 auto;
  white-space:nowrap;
  border:1px solid var(--line);
  border-radius:999px;
  padding:2px 8px;
  font-size:.9rem;
  background:#faf5ff;
}

.gallery{
  margin-top:2px;
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(120px,1fr));
  gap:10px;
}
.gallery figure{
  margin:0;
  border:1px solid var(--line);
  border-radius:12px;
  background:#fff;
  padding:6px;
  text-align:center;
  font-size:.85rem;
  color:var(--muted);
  display:flex;
  flex-direction:column;
  gap:4px;
}
.gallery img{
  width:100%;
  height:auto;
  border-radius:8px;
  display:block;
}

/* ãã®ä»– */
.meta{color:#7a6c86;font-size:.92rem;clear:both;margin-top:.6rem}
.back{
  display:inline-block;
  margin:10px 0 20px;
  padding:10px 14px;
  border-radius:10px;
  border:1px solid var(--line);
  background:#faf5ff;
}

/* âœ…ã ã‘ã®ãƒˆãƒ¼ã‚¹ãƒˆ */
.mini-toast{
  position:fixed;
  left:50%;bottom:24px;
  transform:translateX(-50%) translateY(20px);
  opacity:0;
  background:#4c2b5f;
  color:#fff;
  padding:8px 12px;
  border-radius:999px;
  font-size:1.1rem;
  transition:.25s;
  z-index:40;
}
.mini-toast.show{
  opacity:1;
  transform:translateX(-50%) translateY(0);
}

/* å°ã•ã„ç”»é¢èª¿æ•´ */
@media (max-width:600px){
  header.hd .wrap{padding:16px 12px 8px}
  .paper{padding:14px 12px}
}

/* ç ”ç©¶ãƒ¡ãƒ¢ï¼†æŠ˜ã‚ŠãŸãŸã¿ç³»ã®è¦‹ãŸç›® */
.meta-note{
  margin-top:8px;
  padding:8px 10px;
  border-radius:12px;
  border:1px solid var(--line);
  background:#fdf7ff;
  color:var(--muted);
  font-size:.9rem;
}
.meta-note summary{
  cursor:pointer;
  list-style:none;
  font-weight:600;
  display:flex;
  align-items:center;
  justify-content:space-between;
}
.meta-note[open]{
  background:#fff;
}
.meta-note ul{
  margin:.5rem 0 0 1.1rem;
  padding-left:0;
}

.meta-note ul li + li{
  margin-top:10px;
  padding-top:6px;
  border-top:1px dashed var(--line);
}
.fold-card{
  margin:10px 0 8px;
  padding:8px 10px;
  border-radius:12px;
  border:1px solid var(--line);
  background:#fff;
  color:var(--muted);
  font-size:.9rem;
}
.fold-card summary{
  cursor:pointer;
  list-style:none;
  font-weight:600;
  display:flex;
  align-items:center;
  justify-content:space-between;
}
.fold-card[open]{
  background:#fdf7ff;
  box-shadow:0 3px 8px rgba(0,0,0,.03);
}
.fold-card[open] summary{
  margin-bottom:6px;
}
</style>
</head>

<body data-id="researcher-vs-artist">
<header class="hd" role="banner">
  <div class="wrap">
    <div class="ttl">
      ç ”ç©¶è€…vsèŠ¸è¡“å®¶ è¨ºæ–­
      <span class="rank" aria-label="ç¾åœ¨ã®ã‚¹ã‚¿ã‚¤ãƒ«ãƒ©ãƒ³ã‚¯">
        <span>ğŸ§©</span><span>ãƒ©ãƒ³ã‚¯æœªåˆ¤å®š</span>
      </span>
    </div>
    <div class="sub">
      ãƒ­ã‚¸ãƒƒã‚¯ã§ä¸–ç•Œã‚’è¦‹ã‚‹ã‹ã€æ„Ÿæ€§ã§ä¸–ç•Œã‚’å¡—ã‚Šæ›¿ãˆã‚‹ã‹â€”â€”18å•ã§ã‚ãªãŸã®â€œç‹‚æ°—ã®æ–¹å‘â€ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã™ã€‚
    </div>
  </div>
</header>

<!-- å›ºå®šé€²æ—ãƒãƒ¼ -->
<div class="progress-fixed" role="progressbar"
     aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
  <div class="progress-bar" style="width:0%"></div>
</div>

<main class="wrap" id="app" role="main" aria-live="polite">
  <!-- ãƒ’ãƒ¼ãƒ­ãƒ¼ -->
  <figure class="hero">
    <img src="/shindan/assets/results/researcher-vs-artist/t00.webp"
         alt="ç ”ç©¶å®¤ã¨ã‚¢ãƒˆãƒªã‚¨ã«ç«‹ã¤äºŒäºº" loading="lazy">
  </figure>

  <!-- ãƒ—ãƒ­ãƒ­ãƒ¼ã‚° -->
  <section id="prologue" class="paper" aria-label="ãƒ—ãƒ­ãƒ­ãƒ¼ã‚°">
    <h2>ãƒ—ãƒ­ãƒ­ãƒ¼ã‚°ï¼šãƒ©ãƒœã¨ã‚¢ãƒˆãƒªã‚¨ã®ã‚ã„ã </h2>
    <p>ä¸–ç•Œã«ã¯ã€ã‚¨ã‚¯ã‚»ãƒ«ãŒæ‹äººãªäººã¨ã€ã‚­ãƒ£ãƒ³ãƒã‚¹ãŒæ‹äººãªäººãŒã„ã‚‹ã€‚ã‚ãªãŸã®ä¸­ã§ã¯ã€ã©ã£ã¡ã®å£°ãŒå¤§ãã„ã ã‚ã†ã€‚</p>
    <p>ç ”ç©¶è€…å¯„ã‚Šã ã¨ä½•ã§ã‚‚åˆ†è§£ã—ã¦æ¤œè¨¼ã—ãŸããªã‚‹ã—ã€èŠ¸è¡“å®¶å¯„ã‚Šã ã¨è¨€è‘‰ã«ãªã‚‰ãªã„ã€Œã—ã£ãã‚Šã€ã‚’å½¢ã«ã—ãŸããªã‚‹ã€‚ã©ã¡ã‚‰ã‚‚å°‘ã—ã ã‘å¸¸è­˜ã‹ã‚‰ã‚ºãƒ¬ãŸã€åŒã˜æ²¡é ­æ—ã§ã™ã€‚</p>
    <p>ã“ã®ãƒ†ã‚¹ãƒˆã¯ã€18ã®è³ªå•ã‹ã‚‰ã€Œã‚ãªãŸã®ç‹‚æ°—ãŒãƒ­ã‚¸ãƒƒã‚¯å¯„ã‚Šã‹ã€æ„Ÿæ€§å¯„ã‚Šã‹ã€ãã®ã‚ã„ã ã‹ã€ã‚’ã‚†ã‚‹ãçœºã‚ã‚‹éŠã³ã§ã™ã€‚æ·±å‘¼å¸ã—ã¤ã¤ã€æ°—æ¥½ã«ãƒãƒãƒãƒç­”ãˆã¦ã¿ã¦ãã ã•ã„ã€‚</p>
    <p class="note">â€»äººç”Ÿã®é€²è·¯ã‚’æ±ºã‚ã‚‹ãƒ†ã‚¹ãƒˆã§ã¯ãªãã€ã€Œè‡ªåˆ†ã®ã“ã˜ã‚‰ã›ãƒã‚¤ãƒ³ãƒˆã€ã‚’ãƒ‹ãƒ¤ãƒƒã¨ç¢ºèªã™ã‚‹ãŸã‚ã®éŠã³ã§ã™ã€‚</p>
    <button type="button" id="startBtn" class="start-btn" aria-label="è¨ºæ–­ã‚’å§‹ã‚ã‚‹">
      <span class="emo">âœ¨</span><span>ãƒ­ã‚¸ãƒƒã‚¯ã¨æ„Ÿæ€§ã®ãƒãƒ©ãƒ³ã‚¹ã‚’è¦‹ã‚‹</span>
    </button>
  </section>

  <!-- è³ªå•ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
  <section id="quiz" class="paper" aria-label="è³ªå•ã‚»ã‚¯ã‚·ãƒ§ãƒ³" style="display:none">
    <div class="qhead">
      <div class="qnum" id="qnum">Q1/18</div>
      <div class="qtag" id="qtag">
        <span>ğŸ§ªğŸ¨</span><span>ã‚¹ã‚¿ã‚¤ãƒ«ãƒã‚§ãƒƒã‚¯</span>
      </div>
    </div>
    <div class="qtext" id="qtext">â€¦</div>
    <div class="opts" id="opts" role="group" aria-label="å›ç­”ã‚’é¸æŠ"></div>
    <div class="ctrls">
      <button type="button" id="prevBtn">ã‚‚ã©ã‚‹</button>
    </div>
  </section>

  <!-- çµæœã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
  <section id="result" class="paper result" aria-label="çµæœã‚»ã‚¯ã‚·ãƒ§ãƒ³">
    <h2 style="margin-top:0">çµæœ</h2>
    <div class="flex">
      <div class="imgbox">
        <img id="resultImg" src="" alt="" loading="lazy">
      </div>
      <div class="text">
        <div class="badge-line">
          <span class="badge-pill" id="gradeBadge">
            <span>ğŸ§©</span><span>ãƒ©ãƒ³ã‚¯æœªåˆ¤å®š</span>
          </span>
          <span class="badge-pill" id="scoreBadge">
            ã‚¹ã‚³ã‚¢ â€” / 100
          </span>
        </div>
        <h3 class="result-title-main" id="resultTitle"></h3>
        <p class="result-title-sub" id="resultSubtitle"></p>
        <p id="resultLines" style="white-space:pre-line;margin:.4rem 0 1rem"></p>

        <!-- å› å­ãƒãƒ¼ï¼ˆ5æœ¬ï¼‰ -->
        <div class="bars" id="bars"></div>
      </div>
    </div>

    <!-- å‰å›ã®å›ç­”ï¼ˆä¸€è¦§ï¼‰ -->
    <details id="prevBlock" class="fold-card">
      <summary>ğŸ“ å‰å›ã®å›ç­”ï¼ˆä¸€è¦§ï¼‰</summary>
      <ul id="prevList" class="prev-list"></ul>
    </details>

    <!-- 5ãƒ©ãƒ³ã‚¯ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚®ãƒ£ãƒ©ãƒªãƒ¼ -->
    <details id="galleryBlock" class="fold-card">
      <summary>ğŸ§ªğŸ¨ ã‚¹ã‚¿ã‚¤ãƒ«ãƒ©ãƒ³ã‚¯ã®ã‚®ãƒ£ãƒ©ãƒªãƒ¼</summary>
      <div class="gallery">
        <figure>
          <img src="/shindan/assets/results/researcher-vs-artist/t01.webp"
               alt="æ•°å¼ã«æ²¡é ­ã™ã‚‹ç”·æ€§ç ”ç©¶è€…" loading="lazy">
          <figcaption>ğŸ“‰ t01 ç‹‚æ°—çš„ãªç ”ç©¶è€…</figcaption>
        </figure>
        <figure>
          <img src="/shindan/assets/results/researcher-vs-artist/t02.webp"
               alt="è³‡æ–™ã‚’èª­ã¿è¾¼ã‚€ç”·æ€§ç ”ç©¶è€…" loading="lazy">
          <figcaption>ğŸ“Š t02 ç ”ç©¶ãƒ¢ãƒ¼ãƒ‰å¼·ã‚</figcaption>
        </figure>
        <figure>
          <img src="/shindan/assets/results/researcher-vs-artist/t03.webp"
               alt="ç ”ç©¶è€…ã¨èŠ¸è¡“å®¶ã®äºŒäºº" loading="lazy">
          <figcaption>âš–ï¸ t03 ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰</figcaption>
        </figure>
        <figure>
          <img src="/shindan/assets/results/researcher-vs-artist/t04.webp"
               alt="å¤§ããªã‚­ãƒ£ãƒ³ãƒã‚¹ã«å‘ã‹ã†å¥³æ€§èŠ¸è¡“å®¶" loading="lazy">
          <figcaption>ğŸ¨ t04 èŠ¸è¡“ãƒ¢ãƒ¼ãƒ‰å¼·ã‚</figcaption>
        </figure>
        <figure>
          <img src="/shindan/assets/results/researcher-vs-artist/t05.webp"
               alt="ä½œå“ã¨ä¸€ä½“åŒ–ã™ã‚‹å¥³æ€§èŠ¸è¡“å®¶" loading="lazy">
          <figcaption>ğŸŒˆ t05 ç‹‚æ°—çš„ãªèŠ¸è¡“å®¶</figcaption>
        </figure>
      </div>
    </details>

    <!-- ç ”ç©¶ãƒ¡ãƒ¢ï¼ˆæŠ˜ã‚ŠãŸãŸã¿ï¼‰ -->
    <details class="meta-note" id="researchNotes">
      <summary>ğŸ“š ç ”ç©¶ãƒ¡ãƒ¢ã‚’ã²ã‚‰ã</summary>
      <ul>
        <li><strong>äº‹å®Ÿã‚¢ãƒ³ã‚«ãƒ¼</strong>ï¼šç›´æ„Ÿã ã‘ã§ä¿¡ã˜ãšã€ã¡ã‚ƒã‚“ã¨è¨¼æ‹ ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹äººã»ã©ã€é™°è¬€è«–ã‚„ã€Œã†ã¾ã™ãã‚‹è©±ã€ã«é£²ã¿è¾¼ã¾ã‚Œã«ãã„ã“ã¨ãŒè¤‡æ•°ã®ç ”ç©¶ã§ç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚</li>
        <li><strong>æ§‹é€ ãƒ•ãƒ¬ãƒ¼ãƒ </strong>ï¼šç™½é»’ãƒãƒƒã‚­ãƒªã•ã›ãŸã„æ°—æŒã¡ãŒå¼·ã™ãã‚‹ã¨ã€å˜ç´”ã§ã‚ã‹ã‚Šã‚„ã™ã„ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ï¼ˆã¨ãã«é™°è¬€è«–ï¼‰ã«é£›ã³ã¤ãã‚„ã™ããªã‚‹ã€ã¨ã„ã†ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Šã¾ã™ã€‚</li>
        <li><strong>ã²ã‚‰ã‚ãã‚¹ãƒ‘ãƒ¼ã‚¯</strong>ï¼šã¼ã‚“ã‚„ã‚Šç©ºæƒ³ã™ã‚‹ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã¨ã€é›†ä¸­ã—ã¦ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã™ã‚‹ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãŒåŒæ™‚ã«å‹•ã„ã¦ã„ã‚‹ã¨ãã€å‰µé€ çš„ãªã‚¢ã‚¤ãƒ‡ã‚¢ãŒå‡ºã‚„ã™ã„ã¨ã•ã‚Œã¾ã™ã€‚</li>
        <li><strong>ç¾æ„è­˜ã‚»ãƒ³ã‚µãƒ¼</strong>ï¼šé–‹æ”¾æ€§ã‚„æ²¡é ­æ„Ÿãƒ»å……å®Ÿæ„ŸãŒé«˜ã„ä¸€æ–¹ã§ã€æ„Ÿè¦šåˆºæ¿€ã«ã‚„ã‚„ç–²ã‚Œã‚„ã™ã„ã€Œä¸–ç•Œã‚’æ¿ƒãå‘³ã‚ã†ã‚¿ã‚¤ãƒ—ã€ã¨ã—ã¦æ•´ç†ã•ã‚Œã¦ã„ã¾ã™ã€‚</li>
        <li><strong>æ²¡é ­ã‚¹ã‚¤ãƒƒãƒ</strong>ï¼šãƒ•ãƒ­ãƒ¼ã«å…¥ã‚Šã‚„ã™ã•ã¯çŸ¥èƒ½ãã®ã‚‚ã®ã‚ˆã‚Šã‚‚ã€ä½ã„ä¸å®‰ãƒ»é«˜ã„èª å®Ÿæ€§ãƒ»è‡ªåˆ†ã§ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã§ãã¦ã„ã‚‹æ„Ÿè¦šã¨å¼·ãçµã³ã¤ãã“ã¨ãŒå ±å‘Šã•ã‚Œã¦ã„ã¾ã™ã€‚</li>
      </ul>
    </details>

    <!-- å…è²¬ -->
    <p class="meta">â€»æœ¬ãƒšãƒ¼ã‚¸ã¯å¨¯æ¥½ï¼‹è‡ªå·±ç†è§£ã®è£œåŠ©ã‚’ç›®çš„ã¨ã—ãŸç°¡æ˜“ãƒ†ã‚¹ãƒˆã§ã™ã€‚ä½“èª¿ã‚„ä¸èª¿ãŒç¶šãå ´åˆã¯å°‚é–€æ©Ÿé–¢ã¸ã”ç›¸è«‡ãã ã•ã„ã€‚</p>

    <button type="button" class="back" id="restartBtn" aria-label="æœ€åˆã‹ã‚‰ã‚„ã‚Šç›´ã™">æœ€åˆã‹ã‚‰ã‚„ã‚Šç›´ã™</button>
    <a class="back" href="https://haisuikounozarigani.github.io/shindan/">è¨ºæ–­ä¸€è¦§ã«æˆ»ã‚‹</a>
  </section>
</main>

<!-- âœ…ã ã‘ã®ãƒˆãƒ¼ã‚¹ãƒˆ -->
<div class="mini-toast" id="toast" role="status" aria-live="polite">âœ…</div>

<script>
/* ===== å›ºå®šé€²æ—ãƒãƒ¼ ===== */
function updateProgress(p){
  var bar = document.querySelector('.progress-bar');
  var wrap = document.querySelector('.progress-fixed');
  var val = Math.max(0,Math.min(100,p));
  if(bar) bar.style.width = val + '%';
  if(wrap) wrap.setAttribute('aria-valuenow', String(val));
}

/* ===== å®šç¾© ===== */
const SLUG = 'researcher-vs-artist';
const LS_ANS = `shindan:${SLUG}:answers`;
const LS_IDX = `shindan:${SLUG}:index`;
const LS_DONE = `shindan:${SLUG}:done`;
const LS_LASTANS = `shindan:${SLUG}:lastAnswers`;

/* å› å­ã‚­ãƒ¼ï¼ˆ5å› å­ï¼‰ */
const FACTS = ['ANCHOR','FRAME','SPARK','SENSE','DRIVE'];

/* å› å­ã”ã¨ã®ãƒ©ãƒ™ãƒ«ï¼†èª¬æ˜ */
const FACT_LABEL = {
  ANCHOR:'äº‹å®Ÿã‚¢ãƒ³ã‚«ãƒ¼',
  FRAME:'æ§‹é€ ãƒ•ãƒ¬ãƒ¼ãƒ ',
  SPARK:'ã²ã‚‰ã‚ãã‚¹ãƒ‘ãƒ¼ã‚¯',
  SENSE:'ç¾æ„è­˜ã‚»ãƒ³ã‚µãƒ¼',
  DRIVE:'æ²¡é ­ã‚¹ã‚¤ãƒƒãƒ'
};
const FACT_DESC = {
  ANCHOR:'æ•°å­—ãƒ»ãƒ‡ãƒ¼ã‚¿ãƒ»è¨¼æ‹ ã«ã©ã‚Œãã‚‰ã„å®‰å¿ƒæ„Ÿã‚’æ„Ÿã˜ã‚‹ã‹',
  FRAME:'ä»®èª¬ã‚„æ®µå–ã‚Šã‚’çµ„ã¿ç«‹ã¦ã¦è€ƒãˆã‚‹åŠ›ã®å¼·ã•',
  SPARK:'ã€Œãµã¨æµ®ã‹ã¶ã€ã‚¢ã‚¤ãƒ‡ã‚¢ã‚„é€£æƒ³ã®å‹¢ã„',
  SENSE:'è‰²ãƒ»ç©ºæ°—ãƒ»é›°å›²æ°—ã®é•ã„ã«ã©ã‚Œã ã‘æ•æ„Ÿã‹',
  DRIVE:'ãƒãƒã‚‹ã¨æ™‚é–“ã‚’å¿˜ã‚Œã¦ã‚„ã‚Šè¾¼ã¿ç¶šã‘ã‚‹ã‚¹ã‚¤ãƒƒãƒ'
};

/* å›ç­”ãƒ©ãƒ™ãƒ« */
const LABELS = ['ãœã‚“ãœã‚“','ã‚ã¾ã‚Š','ã©ã¡ã‚‰ã¨ã‚‚','ã‚ã‚Šã¨','ã¨ã¦ã‚‚'];

/* è¨­å• 18å•ï¼ˆ5å› å­Ã—ã ã„ãŸã„3å•ï¼‰ */
const QUESTIONS = [
  // äº‹å®Ÿã‚¢ãƒ³ã‚«ãƒ¼
  {t:'æ–°ã—ã„æƒ…å ±ã‚’ä¿¡ã˜ã‚‹å‰ã«ã€ã€Œå…ƒãƒ‡ãƒ¼ã‚¿ã‚„æ ¹æ‹ ã€ã‚’ç¢ºèªã—ãŸããªã‚‹ã€‚', key:'ANCHOR'},
  {t:'ç›´æ„Ÿã‚ˆã‚Šã‚‚ã€ã€Œæ•°å­—ã‚„çµ±è¨ˆã€ãŒãã‚ã£ã¦ã„ã‚‹ã¨å®‰å¿ƒã™ã‚‹ã€‚', key:'ANCHOR'},
  {t:'æ„è¦‹ã‚’è¨€ã†ã¨ãã€ã€Œãã‚Œã£ã¦ã©ã†ã‚„ã£ã¦æ¸¬ã£ãŸã®ï¼Ÿã€ã¨èããŸããªã‚‹ã“ã¨ãŒã‚ã‚‹ã€‚', key:'ANCHOR'},
  {t:'ã‚¢ãƒ¼ãƒˆã‚„ç‰©èªã§ã‚‚ã€ã€Œå®Ÿéš›ã®ãƒ‡ãƒ¼ã‚¿ã¯ã©ã†ãªã‚“ã ã‚ã†ã€ã¨ã¤ã„æ°—ã«ãªã‚‹ã€‚', key:'ANCHOR'},

  // æ§‹é€ ãƒ•ãƒ¬ãƒ¼ãƒ 
  {t:'å•é¡Œã‚’è¦‹ã‚‹ã¨ã€ã¾ãšå…¨ä½“åƒã‚„æ§‹é€ ã‚’ã–ã£ãã‚Šæ•´ç†ã—ãŸããªã‚‹ã€‚', key:'FRAME'},
  {t:'ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’å‡ºã—ãŸã‚ã¨ã€ã€Œä»®èª¬â†’æ¤œè¨¼ã€ã®ã‚ˆã†ã«ã‚¹ãƒ†ãƒƒãƒ—ã«åˆ†ã‘ã¦è€ƒãˆãŒã¡ã ã€‚', key:'FRAME'},
  {t:'äººã®è©±ã‚’èããªãŒã‚‰ã€é ­ã®ä¸­ã§å›³ã‚„ãƒ•ãƒ­ãƒ¼ã«ã—ã¦æ•´ç†ã—ã¦ã„ã‚‹ã“ã¨ãŒå¤šã„ã€‚', key:'FRAME'},
  {t:'ã€Œã¨ã‚Šã‚ãˆãšã‚„ã£ã¦ã¿ã‚‹ã€ã‚ˆã‚Šã€ã€Œã©ã†é€²ã‚ã‚‹ã‹ã€ã‚’å…ˆã«è€ƒãˆãŸã„ã‚¿ã‚¤ãƒ—ã ã€‚', key:'FRAME'},

  // ã²ã‚‰ã‚ãã‚¹ãƒ‘ãƒ¼ã‚¯
  {t:'åˆ¥ã®ã‚¸ãƒ£ãƒ³ãƒ«ã®è©±ã‚’èã„ã¦ã„ã¦ã‚‚ã€è‡ªåˆ†ã®é ˜åŸŸã¸ã®å¿œç”¨ã‚¢ã‚¤ãƒ‡ã‚¢ãŒå‹æ‰‹ã«æ¹§ã„ã¦ãã‚‹ã€‚', key:'SPARK'},
  {t:'èª¬æ˜ã—ã¥ã‚‰ã„ã‘ã‚Œã©ã€ã€Œãªã‚“ã‹ã“ã£ã¡ã®æ–¹ãŒãŠã‚‚ã—ã‚ãã†ã€ã¨ã„ã†å‹˜ã§å‹•ãã“ã¨ãŒã‚ã‚‹ã€‚', key:'SPARK'},
  {t:'æ•£æ­©ã‚„ã‚·ãƒ£ãƒ¯ãƒ¼ä¸­ãªã©ã€ã¼ãƒ¼ã£ã¨ã—ã¦ã„ã‚‹ã¨ãã«ã‚¢ã‚¤ãƒ‡ã‚¢ãŒè½ã¡ã¦ãã‚‹æ„Ÿè¦šãŒã‚ã‚‹ã€‚', key:'SPARK'},

  // ç¾æ„è­˜ã‚»ãƒ³ã‚µãƒ¼
  {t:'åŒã˜å†…å®¹ã§ã‚‚ã€ã€Œãƒ•ã‚©ãƒ³ãƒˆã‚„ä½™ç™½ã®é•ã„ã€ã§å°è±¡ãŒå¤§ããå¤‰ã‚ã‚‹ã¨æ„Ÿã˜ã‚‹ã€‚', key:'SENSE'},
  {t:'éƒ¨å±‹ã‚„æœºã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ã€ã€Œä½œæ¥­ã—ã‚„ã™ã•ã€ã¨åŒã˜ãã‚‰ã„ã€Œé›°å›²æ°—ã€ã§ã‚‚æ±ºã‚ãŒã¡ã ã€‚', key:'SENSE'},
  {t:'æ•°å­—ã‚ˆã‚Šå…ˆã«ã€ã€Œã“ã®è‰²ãƒ»å½¢ã¯å¥½ãã‹ã©ã†ã‹ã€ã§ç‰©äº‹ã‚’ã‚¸ãƒ£ãƒƒã‚¸ã—ã¦ã—ã¾ã†ã“ã¨ãŒã‚ã‚‹ã€‚', key:'SENSE'},

  // æ²¡é ­ã‚¹ã‚¤ãƒƒãƒ
  {t:'é¢ç™½ã„ãƒ†ãƒ¼ãƒã‚’è¦‹ã¤ã‘ã‚‹ã¨ã€æ°—ã¥ã„ãŸã‚‰ä½•æ™‚é–“ã‚‚èª¿ã¹ãŸã‚Šä½œæ¥­ã—ã¦ã—ã¾ã†ã€‚', key:'DRIVE'},
  {t:'é›†ä¸­ã—å§‹ã‚ã‚‹ã¨ã€é£²ã¿ç‰©ã‚„ç¡çœ ã®ã“ã¨ã‚’å¿˜ã‚Œã¦ã—ã¾ã†ã“ã¨ãŒã‚ã‚‹ã€‚', key:'DRIVE'},
  {t:'ç· åˆ‡ãŒãªãã¦ã‚‚ã€ã€Œã“ã“ã¾ã§ã‚„ã‚Šåˆ‡ã‚ŠãŸã„ã€ã¨è‡ªåˆ†ã§ãƒ©ã‚¤ãƒ³ã‚’æ±ºã‚ã¦è¿½ã„è¾¼ã¿ãŒã¡ã ã€‚', key:'DRIVE'},
  {t:'å¥½ããªã“ã¨ã«æ²¡é ­ã—ã¦ã„ã‚‹ã¨ãã€ã€Œã“ã‚ŒãŒè¡Œãã™ãã‚‹ã¨ã¡ã‚‡ã£ã¨æ€–ã„ãªã€ã¨è‡ªåˆ†ã®ç‹‚æ°—ã‚’æ„Ÿã˜ã‚‹ç¬é–“ãŒã‚ã‚‹ã€‚', key:'DRIVE'}
];

/* ãƒ©ãƒ³ã‚¯æƒ…å ±ï¼šã‚¹ã‚³ã‚¢0â€“100ã§5æ®µéšï¼ˆt01ã€œt05ï¼‰ */
const GRADE_DEF = [
  {
    id:'G1',
    min:0,max:39,
    emo:'ğŸ“‰',
    label:'ç‹‚æ°—çš„ãªç ”ç©¶è€…',
    img:'t01.webp',
    alt:'æ•°å¼ã«æ²¡é ­ã™ã‚‹ç”·æ€§ç ”ç©¶è€…',
    title:'QOLã‚ˆã‚Šã‚¨ãƒ“ãƒ‡ãƒ³ã‚¹å„ªå…ˆãªäºº',
    sub:'åˆ†ã‹ã‚‰ãªã„ã“ã¨ã‚’è¦‹ã‚‹ã¨ã€Œè³‡æ–™ã©ã“ï¼Ÿã€ã§é ­ãŒã„ã£ã±ã„ã«ãªã‚‹ç ”ç©¶ã‚¬ãƒå‹¢ã€‚å¼·ã¿ã¯ã€ä¸–ç•Œã‚’ã¡ã‚ƒã‚“ã¨æ¤œè¨¼ã—ã‚ˆã†ã¨ã™ã‚‹çœŸé¢ç›®ã•ã€‚å¼±ã¿ã¯ã€æ„Ÿæƒ…ã¨ç›´æ„Ÿã¾ã§ på€¤ã§æ®´ã‚ã†ã¨ã—ãŒã¡ãªã¨ã“ã‚ã§ã™ã€‚å‹ã ã¡ã®æ‹ãƒãƒŠã«ã‚‚ã€Œã‚µãƒ³ãƒ—ãƒ«æ•°1ã ã‚ˆã­ï¼Ÿã€ã£ã¦æ€ã£ã¦ã¾ã›ã‚“ã‹ã€‚ãƒãƒ¬ã¦ã¾ã™ã‚ˆã€‚',
    tip:'ä»Šæ—¥ã®ä¸€æ‰‹ï¼šä»Šæ—¥ã¯ä¸€å›ã ã‘ã€ã€Œãªã‚“ã¨ãªããã†ã—ãŸã„ã‹ã‚‰ã€ã§è¡Œå‹•ã—ã¦ã¿ã‚‹ã€‚è«–æ–‡ã¯ã‚ã¨ã§èª­ã‚“ã§ã€‚'
  },
  {
    id:'G2',
    min:40,max:59,
    emo:'ğŸ“Š',
    label:'ç ”ç©¶ãƒ¢ãƒ¼ãƒ‰å¼·ã‚',
    img:'t02.webp',
    alt:'è³‡æ–™ã‚’èª­ã¿è¾¼ã‚€ç”·æ€§ç ”ç©¶è€…',
    title:'ãªã‚“ã§ã‚‚å›³è§£ã—ãŸããªã‚‹çœŸé¢ç›®ãã‚“',
    sub:'ã‚„ã‚‹å‰ã«ã€Œå…¨ä½“åƒã€ã¨ã€Œæ‰‹é †ã€ã‚’ã‚µãƒƒã¨çµ„ã¿ç«‹ã¦ã‚‹ã€æ®µå–ã‚Šãƒã‚¹ã‚¿ãƒ¼ã‚¿ã‚¤ãƒ—ã€‚å¼·ã¿ã¯ã€ãƒŸã‚¹ã‚’æ¸›ã‚‰ã—ã¦ç€å®Ÿã«å‰ã¸é€²ã‚ã‚‹ã“ã¨ã€‚å¼±ã¿ã¯ã€éŠã³ã‚„è¶£å‘³ã¾ã§åŠ¹ç‡åŒ–ã—ã¦ã€æ°—ã¥ã„ãŸã‚‰äººç”ŸãŒå…¨éƒ¨ã‚¿ã‚¹ã‚¯ç®¡ç†è¡¨ã«ãªã‚‹ã“ã¨ã§ã™ã€‚æ—…è¡Œã®ã—ãŠã‚ŠãŒExcelã§3æšã‚ã‚‹äººã¯ã€ã“ã®ãƒ©ãƒ³ã‚¯ã‚’ç–‘ã£ã¦ãã ã•ã„ã€‚',
    tip:'ä»Šæ—¥ã®ä¸€æ‰‹ï¼šã€Œãªã‚“ã¨ãªãæ¥½ã—ãã†ã ã‹ã‚‰ã€ã¨ã„ã†ç†ç”±ã ã‘ã§ã€5ã€œ10åˆ†ã ã‘å¯„ã‚Šé“ã—ã¦ã¿ã‚‹ã€‚'
  },
  {
    id:'G3',
    min:60,max:74,
    emo:'âš–ï¸',
    label:'ç ”ç©¶è€…Ã—èŠ¸è¡“å®¶ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰',
    img:'t03.webp',
    alt:'ç ”ç©¶è€…ã¨èŠ¸è¡“å®¶ã®äºŒäºº',
    title:'Excelã¨ã‚¹ã‚±ãƒƒãƒãƒ–ãƒƒã‚¯ã‚’ä¸¡æ‰‹ã«æŒã£ã¦è¿·ã†äºº',
    sub:'ãƒ­ã‚¸ãƒƒã‚¯ã‚‚å¤§äº‹ã€é›°å›²æ°—ã‚‚å¤§äº‹ã€‚ã€Œã©ã£ã¡ã‚‚åˆ†ã‹ã‚‹ã‹ã‚‰ã“ãç–²ã‚Œã‚‹ã€é€šè¨³ãƒã‚¸ã‚·ãƒ§ãƒ³ã€‚å¼·ã¿ã¯ã€ã‚¬ãƒç†ç³»ã¨ã‚‚ã‚¬ãƒæ„Ÿæ€§æ´¾ã¨ã‚‚ãã‚Œãªã‚Šã«ä¼šè©±ãŒæˆç«‹ã™ã‚‹ã“ã¨ã€‚å¼±ã¿ã¯ã€ã©ã¡ã‚‰ã®ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã§ã‚‚ã€Œãªã‚“ã‹åˆ†ã‹ã‚‹ã‘ã©ã€ãªã‚“ã‹ã‚ˆãåˆ†ã‹ã‚‰ãªã„äººã€ã«ãªã‚ŠãŒã¡ãªã¨ã“ã‚ã§ã™ã€‚ä¼šè­°ã§ãƒ‘ãƒ¯ãƒã¨è½æ›¸ããƒ¡ãƒ¢ã‚’åŒæ™‚ã«å‡ºã—ã¦ãã‚‹äººã€ã ã„ãŸã„ã“ã®ãƒ©ãƒ³ã‚¯ã€‚',
    tip:'ä»Šæ—¥ã®ä¸€æ‰‹ï¼šä»Šæ—¥ã¯ã‚ãˆã¦ã€Œç†å±ˆã—ã‹ä¿¡ã˜ãªã„æ—¥ã€ã‹ã€Œç›´æ„Ÿã—ã‹ä¿¡ã˜ãªã„æ—¥ã€ã€ã©ã¡ã‚‰ã‹1æ—¥ã«æŒ¯ã‚Šåˆ‡ã£ã¦ã¿ã‚‹ã€‚'
  },
  {
    id:'G4',
    min:75,max:89,
    emo:'ğŸ¨',
    label:'èŠ¸è¡“ãƒ¢ãƒ¼ãƒ‰å¼·ã‚',
    img:'t04.webp',
    alt:'å¤§ããªã‚­ãƒ£ãƒ³ãƒã‚¹ã«å‘ã‹ã†å¥³æ€§èŠ¸è¡“å®¶',
    title:'ã¨ã‚Šã‚ãˆãšã€Œãã‚Œãƒ€ã‚µããªã„ï¼Ÿã€ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚’é€šã™äºº',
    sub:'æ•°å­—ã‚ˆã‚Šé…è‰²ã€ä»•æ§˜ã‚ˆã‚Šä½™ç™½ã€‚ä¸–ç•Œã‚’ã€Œã—ã£ãã‚Šãã‚‹/ã“ãªã„ã€ã§åˆ¤å®šã™ã‚‹ç¾æ„è­˜ç•ªé•·ã‚¿ã‚¤ãƒ—ã€‚å¼·ã¿ã¯ã€ã¾ã èª°ã‚‚è¨€è‘‰ã«ã—ã¦ãªã„é•å’Œæ„Ÿã‚„è‰¯ã•ã‚’å…ˆã«ã‚­ãƒ£ãƒƒãƒã§ãã‚‹ã“ã¨ã€‚å¼±ã¿ã¯ã€ã€Œç†ç”±ã¯ãªã„ã‘ã©ã‚¤ãƒ¤ã€ãŒå¤šã™ãã¦ã€å‘¨ã‚Šã‹ã‚‰ã¯ãŸã ã®æ°—åˆ†å±‹ã«è¦‹ãˆã‚„ã™ã„ã¨ã“ã‚ã§ã™ã€‚æœã‚’è²·ã†ã¨ãã€æ©Ÿèƒ½æ€§ã‚ˆã‚Šã€Œå†™çœŸã§æ˜ ãˆã‚‹ã‹ã€ã‚’å„ªå…ˆã—ã¦ã¾ã›ã‚“ã‹ã€‚ãŸã¶ã‚“ãã†ã€‚',
    tip:'ä»Šæ—¥ã®ä¸€æ‰‹ï¼šãƒ‘ãƒƒã¨é¸ã‚“ã ã‚‚ã®ã«ã€ã€Œãªãœè‰¯ã„ã¨æ€ã£ãŸã®ã‹ã€ã‚’ä¸€æ–‡ã ã‘å¾Œä»˜ã‘ã§æ›¸ã„ã¦ã¿ã‚‹ã€‚'
  },
  {
    id:'G5',
    min:90,max:100,
    emo:'ğŸŒˆ',
    label:'ç‹‚æ°—çš„ãªèŠ¸è¡“å®¶',
    img:'t05.webp',
    alt:'ä½œå“ã¨ä¸€ä½“åŒ–ã™ã‚‹å¥³æ€§èŠ¸è¡“å®¶',
    title:'ç”Ÿæ´»ã‚’ä¸¸ã”ã¨ä½œå“ãƒ•ã‚©ãƒ«ãƒ€ã«ã¶ã¡è¾¼ã‚€äºº',
    sub:'æ°—ã¥ã„ãŸã‚‰å¤œã€æœºã®ä¸Šã¯ã‚«ã‚ªã‚¹ã€ã§ã‚‚ä½œå“ã ã‘ã¯ã‹ã£ã“ã„ã„ã‚¿ã‚¤ãƒ—ã€‚æ²¡é ­ã‚²ãƒ¼ã‚¸ãŒãƒã‚°ã£ã¦ã„ã¾ã™ã€‚å¼·ã¿ã¯ã€ä¸–ç•Œè¦³ã”ã¨äººã‚’é€£ã‚Œå»ã‚‹ãƒ¬ãƒ™ãƒ«ã®è¡¨ç¾ã‚’ç”Ÿã¿å‡ºã›ã‚‹ã“ã¨ã€‚å¼±ã¿ã¯ã€ãã®å‰ã«è‡ªåˆ†ã®HPãƒãƒ¼ãŒçœŸã£èµ¤ã«ãªã£ã¦å¼·åˆ¶ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã•ã›ã‚‰ã‚ŒãŒã¡ãªã¨ã“ã‚ã§ã™ã€‚ã€Œã”é£¯é£Ÿã¹ã‚‹ã®å¿˜ã‚Œã¦ãŸã€ãŒé€±1ä»¥ä¸Šã‚ã‚‹ãªã‚‰ã€ã‹ãªã‚Šæ€ªã—ã„ã€‚',
    tip:'ä»Šæ—¥ã®ä¸€æ‰‹ï¼šä½œå“ã®ç· åˆ‡ã¨ã¯åˆ¥ã«ã€ã€Œå¯ã‚‹ã€ã€Œé£Ÿã¹ã‚‹ã€ã€Œé¢¨å‘‚ã€ã®ã©ã‚Œã‹ã‚’ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã«ä¸€æ å…¥ã‚Œã¦ã€ã‚¢ãƒ©ãƒ¼ãƒ ã¾ã§ã‚»ãƒƒãƒˆã—ã¦ã¿ã‚‹ã€‚'
  }
];

/* ã‚¹ã‚³ã‚¢å¸¯ã‹ã‚‰ã‚°ãƒ¬ãƒ¼ãƒ‰ã‚’å–å¾— */
function gradeFromScore(pct){
  for(const g of GRADE_DEF){
    if(pct >= g.min && pct <= g.max) return g;
  }
  return GRADE_DEF[1]; // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ä¸­é–“
}

/* ===== çŠ¶æ…‹ ===== */
let idx = 0;
let answers = new Array(QUESTIONS.length).fill(null);

/* ===== è¦ç´ å–å¾— ===== */
const $qnum = document.getElementById('qnum');
const $qtag = document.getElementById('qtag');
const $qtext = document.getElementById('qtext');
const $opts = document.getElementById('opts');
const $prev = document.getElementById('prevBtn');
const $quiz = document.getElementById('quiz');
const $result = document.getElementById('result');
const $resultImg = document.getElementById('resultImg');
const $resultTitle = document.getElementById('resultTitle');
const $resultSubtitle = document.getElementById('resultSubtitle');
const $resultLines = document.getElementById('resultLines');
const $bars = document.getElementById('bars');
const $restart = document.getElementById('restartBtn');
const $toast = document.getElementById('toast');
const $prologue = document.getElementById('prologue');
const $startBtn = document.getElementById('startBtn');
const $rankBadge = document.querySelector('.rank');
const $gradeBadge = document.getElementById('gradeBadge');
const $scoreBadge = document.getElementById('scoreBadge');

/* ===== åˆæœŸè¡¨ç¤ºï¼šå¾©å…ƒ or ãƒ—ãƒ­ãƒ­ãƒ¼ã‚° ===== */
(function init(){
  updateProgress(0);
  let savedAns = null;
  let savedIdx = 0;
  try{
    savedAns = JSON.parse(localStorage.getItem(LS_ANS) || 'null');
    savedIdx = JSON.parse(localStorage.getItem(LS_IDX) || '0');
  }catch(_){}
  const validArray = Array.isArray(savedAns) && savedAns.length === QUESTIONS.length;
  const hasAny = validArray && savedAns.some(v => v !== null);
  const allDone = validArray && savedAns.every(v => v !== null);

  if(allDone){
    answers = savedAns;
    idx = QUESTIONS.length - 1;
    renderQuestion(); // å†…éƒ¨çŠ¶æ…‹ã ã‘
    enterResultMode();
    showResult();
    return;
  }
  if(hasAny){
    answers = savedAns;
    idx = Math.min(Math.max(0, +savedIdx || 0), QUESTIONS.length-1);
    renderQuestion();
    enterQuizMode();
    return;
  }
  // å®Œå…¨æ–°è¦
  enterPrologueMode();
})();

/* ===== è¡¨ç¤ºåˆ‡æ›¿ ===== */
function enterPrologueMode(){
  if($prologue) $prologue.style.display = 'block';
  if($quiz) $quiz.style.display = 'none';
  if($result) $result.style.display = 'none';
  if($rankBadge){
    $rankBadge.innerHTML = '<span>ğŸ§©</span><span>ãƒ©ãƒ³ã‚¯æœªåˆ¤å®š</span>';
  }
  updateProgress(0);
}
function enterQuizMode(){
  if($prologue) $prologue.style.display = 'none';
  if($quiz) $quiz.style.display = 'block';
  if($result) $result.style.display = 'none';
}
function enterResultMode(){
  if($prologue) $prologue.style.display = 'none';
  if($quiz) $quiz.style.display = 'none';
  if($result) $result.style.display = 'block';
}

/* ===== è³ªå•æç”» ===== */
function renderQuestion(){
  const q = QUESTIONS[idx];
  $qnum.textContent = `Q${idx+1}/${QUESTIONS.length}`;
  $qtext.textContent = q.t;

  // ã‚¿ã‚°ï¼šå› å­ãŒãƒãƒ¬ãªã„ã‚ˆã†ã«å…±é€šãƒ©ãƒ™ãƒ«ã«å›ºå®š
  if($qtag){
    $qtag.innerHTML = `<span>ğŸ§ªğŸ¨</span><span>ã‚¹ã‚¿ã‚¤ãƒ«ãƒã‚§ãƒƒã‚¯</span>`;
  }

  // é¸æŠè‚¢
  $opts.innerHTML = '';
  LABELS.forEach((lab,i)=>{
    const btn = document.createElement('button');
    btn.type = 'button';
    btn.className = 'btn';
    btn.setAttribute('aria-pressed', answers[idx]===i ? 'true':'false');
    btn.innerHTML =
      `<span class="btn-label">${lab}</span><span class="opt-note">${descFor(i)}</span>`;
    btn.addEventListener('click',()=> selectAnswer(i));
    $opts.appendChild(btn);
  });

  // ã€Œã‚‚ã©ã‚‹ã€ãƒœã‚¿ãƒ³
  $prev.disabled = (idx===0);

  // é€²æ—ãƒãƒ¼
  const done = answers.filter(v=>v!==null).length;
  updateProgress(Math.round(done/QUESTIONS.length*100));

  // ãƒ˜ãƒƒãƒ€ã®ãƒ©ãƒ³ã‚¯ã¯è¨­å•ä¸­ã¯å¸¸ã«ã€Œæœªåˆ¤å®šã€
  if($rankBadge){
    $rankBadge.innerHTML = '<span>ğŸ§©</span><span>ãƒ©ãƒ³ã‚¯æœªåˆ¤å®š</span>';
  }
}

function descFor(i){
  return ['ã»ã¨ã‚“ã©ãªã„','ã‚ã¾ã‚Šãªã„','åŠã€…ãã‚‰ã„','ã‘ã£ã“ã†ã‚ã‚‹','ã¨ã¦ã‚‚ã‚ˆãã‚ã‚‹'][i] || '';
}

/* ===== å›ç­”å‡¦ç† ===== */
function selectAnswer(v){
  answers[idx] = v; // 0â€“4
  persist();
  markPressed(v);
  showToast(); // âœ…ã ã‘
  setTimeout(()=>{
    if(idx < QUESTIONS.length-1){
      idx++;
      renderQuestion();
    }else{
      enterResultMode();
      showResult();
    }
  },140);
}
function markPressed(v){
  [...$opts.children].forEach((el,i)=>{
    el.setAttribute('aria-pressed', i===v ? 'true' : 'false');
  });
}
$prev.addEventListener('click', ()=>{
  if(idx>0){
    idx--;
    persist();
    renderQuestion();
  }
});

/* ãƒ—ãƒ­ãƒ­ãƒ¼ã‚° â†’ ã‚¹ã‚¿ãƒ¼ãƒˆ */
$startBtn.addEventListener('click', ()=>{
  if(!answers.some(v=>v!==null)){
    idx = 0;
    renderQuestion();
  }
  enterQuizMode();
  window.scrollTo({top:0,behavior:'smooth'});
});

/* ===== ä¿å­˜ ===== */
function persist(){
  try{
    localStorage.setItem(LS_ANS, JSON.stringify(answers));
    localStorage.setItem(LS_IDX, JSON.stringify(idx));
  }catch(_){}
}

/* ===== ã‚¹ã‚³ã‚¢è¨ˆç®— ===== */
/* å„å› å­0â€“4 â†’ 1â€“5ã¸ã‚·ãƒ•ãƒˆ â†’ 0â€“100ã€‚é€†è»¢å› å­ã¯ãªã—ã€‚ */
function computeScores(){
  const sums = {ANCHOR:0,FRAME:0,SPARK:0,SENSE:0,DRIVE:0};
  const counts = {ANCHOR:0,FRAME:0,SPARK:0,SENSE:0,DRIVE:0};
  QUESTIONS.forEach((q,i)=>{
    let v = answers[i];
    if(v == null) v = 0;
    sums[q.key] += v;
    counts[q.key] += 1;
  });

  const pct = {};
  FACTS.forEach(k=>{
    const avg0 = (sums[k]/(counts[k]||1)); // 0â€“4
    const a15 = avg0 + 1; // 1â€“5
    pct[k] = Math.round((a15-1)/4*100); // 0â€“100
  });

  // ç·åˆã‚¹ã‚³ã‚¢ï¼5å› å­pctå¹³å‡
  let sumPct = 0;
  FACTS.forEach(k=> sumPct += pct[k]);
  const totalPct = Math.round(sumPct / FACTS.length);

  return {pct,totalPct};
}

/* ===== çµæœè¡¨ç¤º ===== */
function showResult(){
  const {pct,totalPct} = computeScores();
  const grade = gradeFromScore(totalPct);

  // ãƒ©ãƒ³ã‚¯ãƒãƒƒã‚¸ in header
  if($rankBadge){
    $rankBadge.innerHTML =
      `<span>${grade.emo}</span><span>${grade.label}</span>`;
  }

  // ç”»åƒï¼ˆt01ã€œt05ã¯ã‚¹ã‚³ã‚¢å¸¯ã§å‰²å½“ï¼‰
  const IMG_BASE = '/shindan/assets/results/researcher-vs-artist/';
  $resultImg.src = IMG_BASE + grade.img;
  $resultImg.alt = grade.alt || 'ç ”ç©¶è€…ã¨èŠ¸è¡“å®¶ã®ã‚¹ã‚¿ã‚¤ãƒ«';

  // çµæœã‚¿ã‚¤ãƒˆãƒ«ãƒ»ã‚µãƒ–
  $resultTitle.textContent = `ã‚ãªãŸã®ã‚¹ã‚¿ã‚¤ãƒ«ï¼š${grade.label}`;
  $resultSubtitle.textContent = `ç ”ç©¶è€…ãƒã‚¤ãƒ³ãƒ‰ã€œèŠ¸è¡“å®¶ãƒã‚¤ãƒ³ãƒ‰ç·åˆã‚¹ã‚³ã‚¢ï¼š${totalPct} / 100`;

  // ãƒãƒƒã‚¸é¡
  if($gradeBadge){
    $gradeBadge.innerHTML =
      `<span>${grade.emo}</span><span>${grade.label}</span>`;
  }
  if($scoreBadge){
    $scoreBadge.textContent = `ã‚¹ã‚³ã‚¢ ${totalPct} / 100`;
  }

  // æœ¬æ–‡ï¼šå¼·ã¿â†’è½ã¨ã—ç©´â†’ä»Šæ—¥ã®ä¸€æ‰‹
  const text = `${grade.title}
${grade.sub}
${grade.tip}`;
  $resultLines.textContent = text;

  // å› å­ãƒãƒ¼æç”»
  $bars.innerHTML = '';
  FACTS.forEach(k=>{
    const v = pct[k];
    const wrap = document.createElement('div');
    wrap.className = 'bar';
    const desc = FACT_DESC[k] || '';
    wrap.innerHTML = `
      <div class="h"><span>${FACT_LABEL[k]}</span><span>${v}%</span></div>
      <div class="track"><div class="fill" style="width:${v}%"></div></div>
      <div class="bar-desc">${desc}</div>
    `;
    $bars.appendChild(wrap);
  });

  // å®Œäº†ãƒ•ãƒ©ã‚°ï¼å‰å›å›ç­”ä¿å­˜
  try{ localStorage.setItem(LS_DONE, String(Date.now())); }catch(_){}
  try{
    localStorage.setItem(LS_LASTANS, JSON.stringify({answers: answers.slice(), ts: Date.now()}));
  }catch(_){}

  buildPrevAnswers();

  document.dispatchEvent(new Event('result:ready'));
}

/* ===== å‰å›å›ç­”ä¸€è¦§ ===== */
function buildPrevAnswers(){
  const $block = document.getElementById('prevBlock');
  const $list  = document.getElementById('prevList');
  if(!$block || !$list) return;

  let prev = null;
  try{
    prev = JSON.parse(localStorage.getItem(LS_LASTANS) || 'null');
  }catch(_){}

  if(!prev || !Array.isArray(prev.answers)) return;

  $list.innerHTML = '';
  prev.answers.forEach((v,i)=>{
    const li = document.createElement('li');
    li.className = 'prev-item';
    const lab = (typeof v === 'number' && v>=0 && v<LABELS.length) ? LABELS[v] : 'â€”';
    li.innerHTML =
      `<span class="prev-q">Q${i+1}ï¼š${QUESTIONS[i].t}</span><span class="prev-a">ã€Œ${lab}ã€</span>`;
    $list.appendChild(li);
  });

  $block.open = false;
}

/* ===== ãƒªã‚¹ã‚¿ãƒ¼ãƒˆ ===== */
function restartQuiz(){
  answers = new Array(QUESTIONS.length).fill(null);
  idx = 0;
  try{
    localStorage.removeItem(LS_ANS);
    localStorage.removeItem(LS_IDX);
  }catch(_){}
  enterPrologueMode();
  window.scrollTo({top:0,behavior:'smooth'});
  showToast(); // ã“ã“ã‚‚âœ…ã ã‘
}
$restart.addEventListener('click', restartQuiz);

/* ===== ãƒˆãƒ¼ã‚¹ãƒˆï¼ˆâœ…ã®ã¿ï¼‰ ===== */
let toastTimer = null;
function showToast(){
  if(!$toast) return;
  $toast.textContent = 'âœ…';
  $toast.classList.add('show');
  clearTimeout(toastTimer);
  toastTimer = setTimeout(()=> $toast.classList.remove('show'), 750);
}
</script>

<!-- ã‚ãªãŸã®ã“ã“ã‚Lvï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ã®ã¿ï¼‰ -->
<script>(function(){
  var DONE_KEY='specimens:open:byid', TOTAL_KEY='specimens:open:total';
  var MY_ID=document.body.getAttribute('data-id')||'researcher-vs-artist';
  var marked=false;
  function mark(){ if(marked) return; marked=true;
    try{
      // ã‚ãªãŸã®ã“ã“ã‚Lvï¼ˆå…¨è¨ºæ–­åˆè¨ˆï¼‰
      var t=(+localStorage.getItem(TOTAL_KEY)||0)+1;
      localStorage.setItem(TOTAL_KEY,String(t));
      // è¨ºæ–­ã”ã¨ã®ã‚«ã‚¦ãƒ³ãƒˆ
      var map={}; try{ map=JSON.parse(localStorage.getItem(DONE_KEY)||'{}'); }catch(_){}
      map[MY_ID]=(map[MY_ID]||0)+1;
      localStorage.setItem(DONE_KEY, JSON.stringify(Object.assign({},map,{_ts:Date.now()})));
    }catch(_){}
  }
  document.addEventListener('result:ready', mark);
  setTimeout(mark, 2000); // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
}());
</script>
</body>
</html>