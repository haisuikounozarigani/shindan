<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>å†·é…·ã‚¢ã‚¤ã‚¹ã‚¯ãƒªãƒ¼ãƒ è¨ºæ–­ï¼ˆMach-IVæº–æ‹ ãƒ»20å•ï¼‰</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    :root{
      --brand:#b86b77;
      --chip:#f4f1ef;
      --bg:#fffaf6;
      --ok:#fff0f3;
    }
    body{font-family:sans-serif;background:var(--bg);color:#333;padding:20px}
    h1{text-align:center;color:var(--brand);margin:0 0 14px}
    .legend{max-width:860px;margin:0 auto 16px;font-size:.95em;color:#555}
    .progress-wrap{max-width:860px;margin:0 auto 18px}
    .progress{height:10px;background:#eee;border-radius:999px;overflow:hidden}
    .bar{height:100%;width:0;background:var(--brand);transition:width .2s}
    .count{margin-top:6px;color:#666;font-size:.9em;text-align:right}

    form{max-width:860px;margin:auto;background:#fff;padding:18px;border-radius:12px;box-shadow:0 0 12px #e5d4cf}
    .question{margin:20px 0}
    .qhead{display:flex;justify-content:space-between;gap:8px;align-items:center;margin:0 0 8px;font-weight:600}
    .qstatus{font-weight:600;font-size:.85em;color:#888}
    .qstatus.done{color:var(--brand)}
    .scale{display:grid;grid-template-columns:repeat(5,1fr);gap:10px}
    .chip{display:block;position:relative;border-radius:10px;background:var(--chip);text-align:center;padding:12px 8px;cursor:pointer;border:2px solid #e9e1de;user-select:none}
    .chip input{position:absolute;inset:0;opacity:0}
    .chip span{display:block}
    .chip input:checked + span{
      background:var(--brand);color:#fff;border-radius:8px;padding:8px 6px;
      box-shadow:0 0 0 2px var(--brand) inset, 0 4px 10px rgba(184,107,119,.25);
      transform:scale(1.02);
    }
    .chip input:checked + span::after{content:"âœ”"; margin-left:6px; font-weight:700;}
    .chip:hover{border-color:#d7c6c2}
    .chip input:focus-visible + span{outline:3px solid #ffd9e1;outline-offset:2px;border-radius:8px}
    .btn{display:block;margin:22px auto 0;padding:12px 22px;font-size:1.1em;background:var(--brand);color:#fff;border:none;border-radius:10px}
    #result{max-width:860px;margin:22px auto 0;background:var(--ok);border-left:6px solid var(--brand);padding:18px;border-radius:10px}
    #result h2{margin:0 0 8px;color:var(--brand)}
    .type{font-size:1.15em;margin-top:4px}
    .tag{display:inline-block;background:#fff;border:1px solid #e7d4cf;border-radius:999px;padding:4px 10px;margin:6px 6px 0 0;font-size:.85em;color:#7b4d57}
    .sec{margin-top:14px}
    .sec h3{margin:0 0 8px;color:#7b4d57;font-size:1.05em}
    .sec p{margin:0}
    .sec ul{margin:6px 0 0 1.1em}
    .note{font-size:.9em;color:#666;margin-top:10px}
    a.back{display:block;text-align:center;margin:22px auto 0;color:var(--brand);text-decoration:none;font-weight:700}
  </style>
</head>
<body>
  <h1>ğŸ¦ å†·é…·ã‚¢ã‚¤ã‚¹ã‚¯ãƒªãƒ¼ãƒ è¨ºæ–­ï¼ˆMach-IVæº–æ‹ ï¼‰</h1>

  <div class="legend">5ä»¶æ³•ï¼š1 ã¾ã£ãŸãå½“ã¦ã¯ã¾ã‚‰ãªã„ ï¼ 2 ã‚ã¾ã‚Šå½“ã¦ã¯ã¾ã‚‰ãªã„ ï¼ 3 ã©ã¡ã‚‰ã¨ã‚‚ã„ãˆãªã„ ï¼ 4 ã‚„ã‚„å½“ã¦ã¯ã¾ã‚‹ ï¼ 5 ã¨ã¦ã‚‚å½“ã¦ã¯ã¾ã‚‹</div>

  <div class="progress-wrap">
    <div class="progress"><div id="bar" class="bar"></div></div>
    <div id="count" class="count">0 / 20 å›ç­”</div>
  </div>

  <form id="quizForm" aria-live="polite"></form>
  <button class="btn" type="button" onclick="calculate()">è¨ºæ–­ã™ã‚‹</button>

  <div id="result" style="display:none;"></div>
  <a class="back" href="https://seikaku.my.canva.site/shindan" target="_blank">ğŸ”™ å¿ƒã®æ¨™æœ¬ã«æˆ»ã‚‹</a>

  <script>
    // Mach-IV 20é …ç›®ï¼ˆæ—¥æœ¬èªæ„è¨³ï¼‰rev:true ã¯é€†è»¢é …ç›®
    const items = [
      { text: "ç›®çš„ã®ãŸã‚ãªã‚‰æœ¬éŸ³ã‚’éš ã™ã“ã¨ã‚‚å¿…è¦ã ã¨æ€ã†", rev: false },
      { text: "é“å¾³çš„ã«æ­£ã—ã„ã¨ç¢ºä¿¡ã§ããªã„ãªã‚‰ã€è¡Œå‹•ã™ã¹ãã§ã¯ãªã„", rev: true },
      { text: "å‡ºä¸–ã™ã‚‹äººã®å¤šãã¯ã€æ­£ç›´ã§æ½”ç™½ã ã¨æ€ã†", rev: true },
      { text: "é‡è¦äººç‰©ã«ã¯ãŠä¸–è¾ã‚’ä½¿ã†ã®ãŒè³¢ã„ã‚„ã‚Šæ–¹ã ", rev: false },
      { text: "ãŸã¨ãˆä¸åˆ©ã§ã‚‚ã€ä»–äººã«ã†ãã‚’ã¤ãã¹ãã§ã¯ãªã„", rev: true },
      { text: "äººã‚’å‹•ã‹ã™ã«ã¯ã€ç›¸æ‰‹ãŒèããŸã„ã“ã¨ã‚’è¨€ã†ã®ãŒä¸€ç•ªã ", rev: false },
      { text: "èª°ã‹ã‚’å®Œå…¨ã«ä¿¡é ¼ã™ã‚‹ã®ã¯å±é™ºã ã¨æ€ã†", rev: false },
      { text: "è¿‘é“ã‚’ä½¿ã‚ãšåŠªåŠ›ã™ã‚Œã°ã€å¿…ãšå ±ã‚ã‚Œã‚‹ã‚‚ã®ã ", rev: true },
      { text: "äººã¯åŸºæœ¬çš„ã«å–„è‰¯ã§ã€å…¬æ­£ã«æŒ¯ã‚‹èˆã†ã¨æ€ã†", rev: true },
      { text: "æˆåŠŸã«ã¯ã€æ™‚ã«ãƒ«ãƒ¼ãƒ«ã‚’æ›²ã’ã‚‹ã“ã¨ãŒæ¬ ã‹ã›ãªã„", rev: false },
      { text: "ãƒãƒ£ãƒ³ã‚¹ãŒã‚ã£ã¦ã‚‚ã€ä¸å…¬å¹³ãªåˆ©å¾—ã¯çµ¶å¯¾ã«å¾—ãªã„", rev: true },
      { text: "ã†ã¾ãç«‹ã¡å›ã‚‹ã«ã¯ã€å¤šå°‘ã®â€œæ“ä½œâ€ã¯å¿…è¦ã ", rev: false },
      { text: "äººå‰ã§ã¯ã€æœ¬å¿ƒã‚’è¦‹ã›ãªã„æ–¹ãŒå®‰å…¨ã ã¨æ€ã†", rev: false },
      { text: "ãŸã¨ãˆæã§ã‚‚ã€æ­£ç›´ã•ã‚’æœ€å„ªå…ˆã™ã‚‹ã¹ãã ", rev: true },
      { text: "å¤šãã®äººã¯ã€è¦‹è¿”ã‚ŠãŒãªã‘ã‚Œã°å”åŠ›ã—ãªã„ã¨æ€ã†", rev: false },
      { text: "äººé–“é–¢ä¿‚ã§ã¯ã€èª æ„ã•ãˆã‚ã‚Œã°ååˆ†ã†ã¾ãã„ã", rev: true },
      { text: "äº¤æ¸‰ã§ã¯â€œè¦ç¯„â€ã‚ˆã‚Šâ€œçµæœâ€ã‚’é‡è¦–ã™ã‚‹ã¹ãã ", rev: false },
      { text: "äººã‚’åˆ©ç”¨ã™ã‚‹ãã‚‰ã„ãªã‚‰ã€æ©Ÿä¼šã‚’é€ƒã—ã¦ã‚‚ã‚ˆã„", rev: true },
      { text: "é‡è¦ãªæƒ…å ±ã¯ã€æœ‰åˆ©ã«ãªã‚‹ã¾ã§ä¼ã›ã¦ãŠãã¹ãã ", rev: false },
      { text: "ç´„æŸã¯çŠ¶æ³ãŒå¤‰ã‚ã£ã¦ã‚‚ã€å¿…ãšå®ˆã‚‹ã¹ãã ", rev: true }
    ];

    const scaleLabels = [
      "1ï¼ˆã¾ã£ãŸãå½“ã¦ã¯ã¾ã‚‰ãªã„ï¼‰",
      "2ï¼ˆã‚ã¾ã‚Šå½“ã¦ã¯ã¾ã‚‰ãªã„ï¼‰",
      "3ï¼ˆã©ã¡ã‚‰ã¨ã‚‚ã„ãˆãªã„ï¼‰",
      "4ï¼ˆã‚„ã‚„å½“ã¦ã¯ã¾ã‚‹ï¼‰",
      "5ï¼ˆã¨ã¦ã‚‚å½“ã¦ã¯ã¾ã‚‹ï¼‰"
    ];

    // ã‚¿ã‚¤ãƒ—ã”ã¨ã®æ–‡è¨€
    const TYPE_INFO = {
      "ã‚½ãƒ•ãƒˆã‚¯ãƒªãƒ¼ãƒ ": {
        tagline: "â€• é§†ã‘å¼•ãã‚¼ãƒ­ã€ç›´çƒã™ãã¦é€†ã«æœ€å¼· â€•",
        profile: "ã‚ãªãŸã¯â€œæ­£ç›´â€ã¨ã„ã†æœ€å¼·ã‚«ãƒ¼ãƒ‰ã‚’ç´ ã§ä½¿ã†äººã€‚æ‚ªã ãã¿ã®èª¬æ˜æ›¸ã‚’èª­ã‚“ã§ã‚‚å¯è½ã¡ã™ã‚‹ã‚¿ã‚¤ãƒ—ã§ã™ã€‚",
        strengths: ["ä¿¡é ¼æ®‹é«˜ãŒé«˜ã„","è£è¡¨ãŒãªãå®‰å¿ƒæ„ŸãŒã‚ã‚‹","é•·æœŸçš„ãªé–¢ä¿‚ã«å¼·ã„","è¬ç½ªã¨è»Œé“ä¿®æ­£ãŒæ—©ã„"],
        weaknesses: ["æ¦ã‚æ‰‹ã«å¼±ã„","å¼·å¼•ãªäº¤æ¸‰ç›¸æ‰‹ãŒè‹¦æ‰‹","â€œå°‘ã—ã¯ç–‘ãˆâ€ã¨è¨€ã‚ã‚ŒãŒã¡"]
      },
      "ãƒãƒ‹ãƒ©ã‚¢ã‚¤ã‚¹": {
        tagline: "â€• åŸºæœ¬ã¯æ­£æ”»æ³•ã€ã¨ãã©ãå°ãƒ¯ã‚¶ â€•",
        profile: "èª å®Ÿãƒ™ãƒ¼ã‚¹ã«å°‘ã—ã ã‘ç¾å®Ÿä¸»ç¾©ã®ã‚¹ãƒ‘ã‚¤ã‚¹ã€‚ç„¡é§„ãªé§†ã‘å¼•ãã¯å«Œã„ã ã‘ã©ã€çŠ¶æ³åˆ¤æ–­ã¯ã§ãã‚‹äººã€‚",
        strengths: ["å®‰å®šã¨ä¿¡é ¼ã®ä¸¡ç«‹","ãƒãƒ¼ãƒ ã§æ©Ÿèƒ½ã™ã‚‹å”èª¿æ€§","å¢ƒç•Œç·šã‚’å®ˆã‚Œã‚‹"],
        weaknesses: ["å°–ã‚ŠãŒå¼±ãåŸ‹ã‚‚ã‚ŒãŒã¡","æ”»ã‚ã®äº¤æ¸‰ã«æŠ¼ã•ã‚Œã‚„ã™ã„","å…¬å¹³ã•é‡è¦–ã§æ©Ÿä¼šæå¤±ã‚‚"]
      },
      "ã‚¸ã‚§ãƒ©ãƒ¼ãƒˆ": {
        tagline: "â€• ç”˜ã•ã¨å†·é™ã•ã®ã‚¹ã‚¤ãƒƒãƒãƒ£ãƒ¼ â€•",
        profile: "ç©ºæ°—ã‚’èª­ã¿ã¤ã¤å±•é–‹ã‚’çµ„ã¿ç«‹ã¦ã‚‰ã‚Œã‚‹ç¾å®Ÿæ´¾ã€‚å¿…è¦ãªã¨ãã ã‘æˆ¦è¡“ã‚’ä½¿ã†â€œã»ã©ã‚ˆã„ç­–å£«â€ã€‚",
        strengths: ["çŠ¶æ³å¯¾å¿œåŠ›ã¨äº¤æ¸‰å‹˜","å¢ƒç•Œã®å–ã‚Šæ–¹ãŒä¸Šæ‰‹ã„","çŸ­æœŸã¨é•·æœŸã®ãƒãƒ©ãƒ³ã‚¹æ„Ÿè¦š"],
        weaknesses: ["è¨ˆç®—é«˜ãè¦‹ã‚‰ã‚Œã‚‹ã“ã¨ã‚‚","å„ªæŸ”ä¸æ–­ã«æ˜ ã‚‹å ´é¢ãŒã‚ã‚‹","è…¹ã®å†…ã‚’èª­ã¾ã‚Œã‚„ã™ã„"]
      },
      "ã‚½ãƒ«ãƒ™": {
        tagline: "â€• æ°·ç‚¹ä¸‹ã®å†·é™ã€å‹ã¡ç­‹ç›´è¡Œ â€•",
        profile: "çµæœé‡è¦–ãƒ»æ„Ÿæƒ…çœã‚¨ãƒã®ã‚¿ã‚¯ãƒ†ã‚£ã‚·ãƒ£ãƒ³ã€‚ç›¤é¢ãŒè¦‹ãˆã¦ã„ã‚‹ã¶ã‚“ã€ä½™è¨ˆãªæ¶ˆè€—ã‚’å«Œã„ã¾ã™ã€‚",
        strengths: ["æˆ¦ç•¥è¨­è¨ˆã¨æç›Šåˆ¤æ–­","äº¤æ¸‰ãƒ»é§†ã‘å¼•ãã®å¼·ã•","ãƒ—ãƒ¬ãƒƒã‚·ãƒ£ãƒ¼è€æ€§"],
        weaknesses: ["å†·ãŸãèª¤è§£ã•ã‚Œã‚„ã™ã„","ä¿¡é ¼é†¸æˆã«æ™‚é–“ãŒã‹ã‹ã‚‹","çŸ­æœŸå¿—å‘ã«å¯„ã‚ŠãŒã¡"]
      },
      "ã‚¯ãƒªã‚¹ã‚¿ãƒ«ã‚¢ã‚¤ã‚¹": {
        tagline: "â€• æ°·ã®ç­–å£«ã€æœ€é©è§£ã‚’å–ã‚Šã«ã„ã â€•",
        profile: "ç›®çš„æœ€å„ªå…ˆã®åˆ‡ã‚Œè€…ã€‚å ´ã¨äººã®ãƒ¬ãƒãƒ¼ï¼ˆã¦ã“ï¼‰ã‚’èª­ã‚€ã®ãŒå¾—æ„ã§ã€å‹ç‡ã‚’æœ€å¤§åŒ–ã—ã¾ã™ã€‚",
        strengths: ["é«˜ã„çŠ¶æ³æŒæ¡åŠ›","ãƒªã‚¹ã‚¯ç®¡ç†ã¨æ±ºæ–­åŠ›","èª¬å¾—ãƒ»å½±éŸ¿åŠ›"],
        weaknesses: ["å…±æ„Ÿä¸è¶³ã§é–¢ä¿‚ãŒæ‘©è€—","æ©‹ã‚’ç„¼ããŒã¡ã§é•·æœŸä¿¡é ¼ã«å¼±ã„","ç–‘å¿ƒæš—é¬¼ãƒ¢ãƒ¼ãƒ‰ã«å…¥ã‚Šã‚„ã™ã„"]
      }
    };

    const form = document.getElementById("quizForm");
    const bar  = document.getElementById("bar");
    const count= document.getElementById("count");

    // è³ªå•ã‚’ç”Ÿæˆ
    items.forEach((it, i) => {
      const div = document.createElement("div");
      div.className = "question";
      const qid = `q${i}`;
      let options = "";
      for (let n = 0; n < 5; n++) {
        const id = `${qid}_${n+1}`;
        options += `
          <label class="chip" for="${id}">
            <input id="${id}" type="radio" name="${qid}" value="${n+1}" />
            <span>${scaleLabels[n]}</span>
          </label>`;
      }
      div.innerHTML = `
        <p class="qhead"><span>Q${i+1}. ${it.text}</span><span id="${qid}_status" class="qstatus">æœªé¸æŠ</span></p>
        <div class="scale">${options}</div>`;
      form.appendChild(div);
    });

    // å›ç­”çŠ¶æ³ã®å¯è¦–åŒ–
    document.addEventListener("change", (e) => {
      if (!e.target.name || !e.target.name.startsWith("q")) return;
      const qid = e.target.name;
      const st = document.getElementById(`${qid}_status`);
      if (st){ st.textContent = "é¸æŠæ¸ˆ"; st.classList.add("done"); }
      updateProgress();
    });

    function updateProgress(){
      const checked = Array.from(document.querySelectorAll('input[type="radio"]:checked'));
      const answeredQs = new Set(checked.map(i=>i.name)).size;
      const totalQ = items.length;
      const pct = Math.round(answeredQs/totalQ*100);
      bar.style.width = pct + "%";
      count.textContent = `${answeredQs} / ${totalQ} å›ç­”`;
    }

    function calculate() {
      // æœªå›ç­”ãƒã‚§ãƒƒã‚¯
      for (let i = 0; i < items.length; i++) {
        if (!document.querySelector(`input[name="q${i}"]:checked`)) {
          alert(`æœªå›ç­”ã®è¨­å•ãŒã‚ã‚Šã¾ã™ï¼ˆQ${i+1}ï¼‰`);
          return;
        }
      }
      // æ¡ç‚¹ï¼ˆé€†è»¢é …ç›®ã¯ 6 - vï¼‰
      let sum = 0;
      for (let i = 0; i < items.length; i++) {
        let v = parseInt(document.querySelector(`input[name="q${i}"]:checked`).value);
        if (items[i].rev) v = 6 - v;
        sum += v;
      }
      // åˆè¨ˆ 20ã€œ100 â†’ 0ã€œ100% ã«æ›ç®—
      const machPct = Math.round((sum - 20) / 80 * 100);

      // ã‚¿ã‚¤ãƒ—åˆ¤å®š
      let type="";
      if (machPct <= 20) type="ã‚½ãƒ•ãƒˆã‚¯ãƒªãƒ¼ãƒ ";
      else if (machPct <= 40) type="ãƒãƒ‹ãƒ©ã‚¢ã‚¤ã‚¹";
      else if (machPct <= 60) type="ã‚¸ã‚§ãƒ©ãƒ¼ãƒˆ";
      else if (machPct <= 80) type="ã‚½ãƒ«ãƒ™";
      else type="ã‚¯ãƒªã‚¹ã‚¿ãƒ«ã‚¢ã‚¤ã‚¹";

      const info = TYPE_INFO[type];

      // çµæœæç”»
      const result = document.getElementById("result");
      result.style.display = "block";
      result.innerHTML = `
        <h2>è¨ºæ–­çµæœ</h2>
        <div class="type">å†·é…·åº¦ï¼ˆMachæŒ‡æ•°æ›ç®—ï¼‰ï¼š<strong>${machPct}%</strong></div>
        <div class="type">ã‚ãªãŸã¯ <span class="tag">${type}</span> <span class="tag">${info.tagline}</span></div>

        <div class="sec">
          <h3>æ€§æ ¼ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«</h3>
          <p>${info.profile}</p>
        </div>

        <div class="sec">
          <h3>å¼·ã¿</h3>
          <ul>${info.strengths.map(s=>`<li>${s}</li>`).join("")}</ul>
        </div>

        <div class="sec">
          <h3>å¼±ã¿</h3>
          <ul>${info.weaknesses.map(s=>`<li>${s}</li>`).join("")}</ul>
        </div>

        <p class="note">â€»ã“ã®é …ç›®ã¯ Mach-IVï¼ˆãƒã‚­ãƒ£ãƒ™ãƒªã‚ºãƒ å°ºåº¦ï¼‰ã®å†…å®¹ã‚’æ—¥æœ¬èªã§æ„è¨³ã—ãŸç°¡æ˜“ç‰ˆã§ã™ï¼ˆç ”ç©¶åˆ©ç”¨ã®æ­£å¼ãªç¿»è¨³ã§ã¯ã‚ã‚Šã¾ã›ã‚“ï¼‰ã€‚</p>
      `;
      window.scrollTo(0, document.body.scrollHeight);
    }
  </script>
</body>
</html>