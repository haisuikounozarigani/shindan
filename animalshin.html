<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>å¿ƒã®ä¸­ã®æ€§æ ¼å‹•ç‰©è¨ºæ–­</title>
  <style>
    body {
      font-family: sans-serif;
      background: #fffdf8;
      color: #333;
      padding: 30px;
      max-width: 800px;
      margin: auto;
    }
    h1 {
      text-align: center;
      color: #b86b77;
      font-size: 2em;
      margin-bottom: 30px;
    }
    .question {
      margin-bottom: 25px;
    }
    label {
      display: block;
      margin: 5px 0;
      background: #f4f4f4;
      padding: 8px;
      border-radius: 5px;
      cursor: pointer;
    }
    button {
      margin-top: 30px;
      padding: 12px 24px;
      font-size: 1.2em;
      background-color: #b86b77;
      color: white;
      border: none;
      border-radius: 8px;
      display: block;
      margin-left: auto;
      margin-right: auto;
    }
    .result {
      margin-top: 40px;
      padding: 20px;
      background: #fdf1f3;
      border-radius: 10px;
      box-shadow: 0 0 10px #ccc;
    }
    .result h2 {
      color: #b86b77;
      text-align: center;
    }
    .animal {
      font-size: 1.2em;
      margin: 10px 0;
    }
    a {
      display: block;
      text-align: center;
      margin-top: 30px;
      text-decoration: none;
      color: #b86b77;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h1>ğŸ§  å¿ƒã®ä¸­ã®æ€§æ ¼å‹•ç‰©è¨ºæ–­</h1>
  <form id="quizForm"></form>
  <button type="button" onclick="calculate()">è¨ºæ–­ã™ã‚‹</button>
  <div id="result" class="result" style="display:none;"></div>
  <a href="https://seikaku.my.canva.site/shindan" target="_blank">ğŸ”™ å¿ƒã®æ¨™æœ¬ã«æˆ»ã‚‹</a>

  <script>
    const questions = [
      { text: "åˆå¯¾é¢ã§ã‚‚ã™ãæ‰“ã¡è§£ã‘ã‚‰ã‚Œã‚‹", trait: "extroversion" },
      { text: "å¤§å‹¢ã§éã”ã™ã“ã¨ãŒå¥½ãã ", trait: "extroversion" },
      { text: "å›°ã£ã¦ã„ã‚‹äººã«è‡ªç„¶ã¨æ‰‹ã‚’å·®ã—ä¼¸ã¹ã‚‹", trait: "agreeableness" },
      { text: "äººã®æ„Ÿæƒ…ã«æ•æ„Ÿãªã»ã†ã ", trait: "agreeableness" },
      { text: "ã‚„ã‚‹ã¨æ±ºã‚ãŸã“ã¨ã¯æœ€å¾Œã¾ã§ã‚„ã‚ŠæŠœã", trait: "conscientiousness" },
      { text: "è¨ˆç”»çš„ã«ç‰©äº‹ã‚’é€²ã‚ã‚‹æ–¹ã ", trait: "conscientiousness" },
      { text: "äº›ç´°ãªã“ã¨ã§æ°—åˆ†ãŒè½ã¡è¾¼ã‚€ã“ã¨ãŒã‚ã‚‹", trait: "neuroticism" },
      { text: "å¿ƒé…ã—ã™ãã¦ã—ã¾ã†ã“ã¨ãŒå¤šã„", trait: "neuroticism" },
      { text: "èŠ¸è¡“ã‚„ã‚¢ã‚¤ãƒ‡ã‚¢ã«æƒ¹ã‹ã‚Œã‚‹", trait: "openness" },
      { text: "æ–°ã—ã„ä½“é¨“ã‚„ä¾¡å€¤è¦³ã«ãƒ¯ã‚¯ãƒ¯ã‚¯ã™ã‚‹", trait: "openness" },
    ];

    const scaleLabels = [
      "1ï¼ˆã¾ã£ãŸãå½“ã¦ã¯ã¾ã‚‰ãªã„ï¼‰",
      "2ï¼ˆã‚ã¾ã‚Šå½“ã¦ã¯ã¾ã‚‰ãªã„ï¼‰",
      "3ï¼ˆã©ã¡ã‚‰ã¨ã‚‚ã„ãˆãªã„ï¼‰",
      "4ï¼ˆã‚„ã‚„å½“ã¦ã¯ã¾ã‚‹ï¼‰",
      "5ï¼ˆã¨ã¦ã‚‚å½“ã¦ã¯ã¾ã‚‹ï¼‰"
    ];

    const traitScores = {
      extroversion: 0,
      agreeableness: 0,
      conscientiousness: 0,
      neuroticism: 0,
      openness: 0
    };

    const animalMap = {
      extroversion: {
        low: { animal: "ğŸ¦¥ ãƒŠãƒã‚±ãƒ¢ãƒ", desc: "é™ã‹ã«éã”ã™ã“ã¨ã‚’å¥½ã‚€ã€ãƒã‚¤ãƒšãƒ¼ã‚¹ãªç©ã‚„ã‹ã‚¿ã‚¤ãƒ—ã€‚" },
        mid: { animal: "ğŸ¿ï¸ ãƒªã‚¹", desc: "ç´ æ—©ãå‹•ãã€è¦³å¯ŸåŠ›ã‚‚é«˜ã„ã€‚å¥½å¥‡å¿ƒã¨æ…é‡ã•ã‚’ãƒãƒ©ãƒ³ã‚¹ã‚ˆãæŒã¤ã€‚" },
        high: { animal: "ğŸµ ã‚µãƒ«", desc: "æ˜ã‚‹ãç¤¾äº¤çš„ã§ã€äººã¨é–¢ã‚ã‚‹ã“ã¨ã«å–œã³ã‚’æ„Ÿã˜ã‚‹ã‚¿ã‚¤ãƒ—ã€‚" }
      },
      agreeableness: {
        low: { animal: "ğŸˆ ãƒã‚³", desc: "è‡ªåˆ†ã®ãƒšãƒ¼ã‚¹ã‚’å¤§äº‹ã«ã™ã‚‹ãƒã‚¤ãƒ¯ãƒ¼ãƒ«ãƒ‰æ´¾ã€‚ã‚ã£ã•ã‚Šã‚¿ã‚¤ãƒ—ã€‚" },
        mid: { animal: "ğŸ¦Š ã‚­ãƒ„ãƒ", desc: "åˆç†çš„ã§é©åº¦ãªè·é›¢æ„Ÿã‚’ä¿ã¤ã‚¯ãƒ¼ãƒ«ãªãƒãƒ©ãƒ³ã‚¹å‹ã€‚" },
        high: { animal: "ğŸ¶ çŠ¬", desc: "èª å®Ÿã§æ€ã„ã‚„ã‚Šæ·±ãã€èª°ã¨ã§ã‚‚ä»²è‰¯ããªã‚Œã‚‹æ¸©åšã‚¿ã‚¤ãƒ—ã€‚" }
      },
      conscientiousness: {
        low: { animal: "ğŸ ãƒ¤ã‚®", desc: "æ°—ã¾ã¾ã«è¡Œå‹•ã™ã‚‹æŸ”è»Ÿã‚¿ã‚¤ãƒ—ã€‚ãƒ«ãƒ¼ãƒ«ã‚ˆã‚Šç›´æ„Ÿã‚’å„ªå…ˆã€‚" },
        mid: { animal: "ğŸ§ ãƒšãƒ³ã‚®ãƒ³", desc: "å®‰å®šã‚’æ±‚ã‚ã‚‹å …å®Ÿå®¶ã€‚çœŸé¢ç›®ã•ã¨éŠã³å¿ƒã‚’ãƒãƒ©ãƒ³ã‚¹ã‚ˆãæŒã¤ã€‚" },
        high: { animal: "ğŸ¦« ãƒ“ãƒ¼ãƒãƒ¼", desc: "åŠªåŠ›ã¨è¨ˆç”»ã‚’é‡è¦–ã™ã‚‹å®Œç’§ä¸»ç¾©ã€‚ä¿¡é ¼ã•ã‚Œã‚‹åƒãè€…ã€‚" }
      },
      neuroticism: {
        low: { animal: "ğŸ» ã‚¯ãƒ", desc: "å¿ƒãŒå®‰å®šã—ã¦ãŠã‚Šã€å‹•ã˜ã«ãã„å®‰å¿ƒæ„Ÿã®ã‚ã‚‹æ€§æ ¼ã€‚" },
        mid: { animal: "ğŸ° ã‚¦ã‚µã‚®", desc: "æ„Ÿå—æ€§ãŒè±Šã‹ã§ã€å…±æ„ŸåŠ›ã¨ç¹Šç´°ã•ã‚’ä½µã›æŒã¤ã€‚" },
        high: { animal: "ğŸ¦” ãƒãƒªãƒã‚ºãƒŸ", desc: "å‚·ã¤ãã‚„ã™ãç¹Šç´°ã€‚æ…é‡ã§è‡ªå·±é˜²è¡›æœ¬èƒ½ãŒå¼·ã„ã‚¿ã‚¤ãƒ—ã€‚" }
      },
      openness: {
        low: { animal: "ğŸ¦™ ã‚¢ãƒ«ãƒ‘ã‚«", desc: "ä¼çµ±ã‚„å®‰å®šã‚’å¥½ã¿ã€ã®ã‚“ã³ã‚Šã¨æ—¥ã€…ã‚’æ¥½ã—ã‚€ã€‚" },
        mid: { animal: "ğŸ¦ ã‚ªã‚¦ãƒ ", desc: "ç‰©äº‹ã«æŸ”è»Ÿã«é©å¿œã™ã‚‹é †å¿œå‹ã€‚å¥½å¥‡å¿ƒã‚‚å®‰å®šã‚‚ã»ã©ã»ã©ã€‚" },
        high: { animal: "ğŸ¬ ã‚¤ãƒ«ã‚«", desc: "å‰µé€ çš„ã§ç›´æ„Ÿçš„ã€‚è‡ªç”±ãªç™ºæƒ³ã¨èŠ¸è¡“çš„æ„Ÿæ€§ã‚’æŒã¤ã€‚" }
      }
    };

    const form = document.getElementById("quizForm");

    questions.forEach((q, i) => {
      const div = document.createElement("div");
      div.className = "question";
      div.innerHTML = `<p>Q${i + 1}. ${q.text}</p>` +
        scaleLabels.map((label, n) => `
          <label><input type="radio" name="q${i}" value="${n + 1}"> ${label}</label>
        `).join("");
      form.appendChild(div);
    });

    function calculate() {
      Object.keys(traitScores).forEach(trait => traitScores[trait] = 0);

      for (let i = 0; i < questions.length; i++) {
        const selected = document.querySelector(`input[name="q${i}"]:checked`);
        if (!selected) {
          alert("ã™ã¹ã¦ã®è³ªå•ã«å›ç­”ã—ã¦ãã ã•ã„ã€‚");
          return;
        }
        const score = parseInt(selected.value);
        const trait = questions[i].trait;
        traitScores[trait] += score;
      }

      let html = `<h2>ã‚ãªãŸã®æ€§æ ¼å‹•ç‰©ã‚¿ã‚¤ãƒ—</h2>`;
      for (const trait in traitScores) {
        const avg = traitScores[trait] / 2;
        let level = avg <= 2.4 ? 'low' : avg <= 3.6 ? 'mid' : 'high';
        const { animal, desc } = animalMap[trait][level];
        const label = {
          extroversion: "å¤–å‘æ€§",
          agreeableness: "å”èª¿æ€§",
          conscientiousness: "èª å®Ÿæ€§",
          neuroticism: "ç¥çµŒç—‡å‚¾å‘",
          openness: "é–‹æ”¾æ€§"
        }[trait];
        html += `<div class="animal"><strong>${label}</strong>ï¼š${animal}<br><small>${desc}</small></div>`;
      }

      const resultDiv = document.getElementById("result");
      resultDiv.innerHTML = html;
      resultDiv.style.display = "block";
      window.scrollTo(0, document.body.scrollHeight);
    }
  </script>
</body>
</html>