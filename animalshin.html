<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>心の中の性格動物診断</title>
  <style>
    body {
      font-family: sans-serif;
      background: #fffdf8;
      color: #333;
      padding: 30px;
      max-width: 800px;
      margin: auto;
    }
    h1 {
      text-align: center;
      color: #b86b77;
      font-size: 2em;
      margin-bottom: 30px;
    }
    .question {
      margin-bottom: 25px;
    }
    label {
      display: block;
      margin: 5px 0;
      background: #f4f4f4;
      padding: 8px;
      border-radius: 5px;
      cursor: pointer;
    }
    button {
      margin-top: 30px;
      padding: 12px 24px;
      font-size: 1.2em;
      background-color: #b86b77;
      color: white;
      border: none;
      border-radius: 8px;
      display: block;
      margin-left: auto;
      margin-right: auto;
    }
    .result {
      margin-top: 40px;
      padding: 20px;
      background: #fdf1f3;
      border-radius: 10px;
      box-shadow: 0 0 10px #ccc;
    }
    .result h2 {
      color: #b86b77;
      text-align: center;
    }
    .animal {
      font-size: 1.2em;
      margin: 10px 0;
    }
    a {
      display: block;
      text-align: center;
      margin-top: 30px;
      text-decoration: none;
      color: #b86b77;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h1>🧠 心の中の性格動物診断</h1>
  <form id="quizForm"></form>
  <button type="button" onclick="calculate()">診断する</button>
  <div id="result" class="result" style="display:none;"></div>
  <a href="https://seikaku.my.canva.site/shindan" target="_blank">🔙 心の標本に戻る</a>

  <script>
    const questions = [
      { text: "初対面でもすぐ打ち解けられる", trait: "extroversion" },
      { text: "大勢で過ごすことが好きだ", trait: "extroversion" },
      { text: "困っている人に自然と手を差し伸べる", trait: "agreeableness" },
      { text: "人の感情に敏感なほうだ", trait: "agreeableness" },
      { text: "やると決めたことは最後までやり抜く", trait: "conscientiousness" },
      { text: "計画的に物事を進める方だ", trait: "conscientiousness" },
      { text: "些細なことで気分が落ち込むことがある", trait: "neuroticism" },
      { text: "心配しすぎてしまうことが多い", trait: "neuroticism" },
      { text: "芸術やアイデアに惹かれる", trait: "openness" },
      { text: "新しい体験や価値観にワクワクする", trait: "openness" },
    ];

    const scaleLabels = [
      "1（まったく当てはまらない）",
      "2（あまり当てはまらない）",
      "3（どちらともいえない）",
      "4（やや当てはまる）",
      "5（とても当てはまる）"
    ];

    const traitScores = {
      extroversion: 0,
      agreeableness: 0,
      conscientiousness: 0,
      neuroticism: 0,
      openness: 0
    };

    const animalMap = {
      extroversion: {
        low: { animal: "🦥 ナマケモノ", desc: "静かに過ごすことを好む、マイペースな穏やかタイプ。" },
        mid: { animal: "🐿️ リス", desc: "素早く動き、観察力も高い。好奇心と慎重さをバランスよく持つ。" },
        high: { animal: "🐵 サル", desc: "明るく社交的で、人と関わることに喜びを感じるタイプ。" }
      },
      agreeableness: {
        low: { animal: "🐈 ネコ", desc: "自分のペースを大事にするマイワールド派。あっさりタイプ。" },
        mid: { animal: "🦊 キツネ", desc: "合理的で適度な距離感を保つクールなバランス型。" },
        high: { animal: "🐶 犬", desc: "誠実で思いやり深く、誰とでも仲良くなれる温厚タイプ。" }
      },
      conscientiousness: {
        low: { animal: "🐐 ヤギ", desc: "気ままに行動する柔軟タイプ。ルールより直感を優先。" },
        mid: { animal: "🐧 ペンギン", desc: "安定を求める堅実家。真面目さと遊び心をバランスよく持つ。" },
        high: { animal: "🦫 ビーバー", desc: "努力と計画を重視する完璧主義。信頼される働き者。" }
      },
      neuroticism: {
        low: { animal: "🐻 クマ", desc: "心が安定しており、動じにくい安心感のある性格。" },
        mid: { animal: "🐰 ウサギ", desc: "感受性が豊かで、共感力と繊細さを併せ持つ。" },
        high: { animal: "🦔 ハリネズミ", desc: "傷つきやすく繊細。慎重で自己防衛本能が強いタイプ。" }
      },
      openness: {
        low: { animal: "🦙 アルパカ", desc: "伝統や安定を好み、のんびりと日々を楽しむ。" },
        mid: { animal: "🐦 オウム", desc: "物事に柔軟に適応する順応型。好奇心も安定もほどほど。" },
        high: { animal: "🐬 イルカ", desc: "創造的で直感的。自由な発想と芸術的感性を持つ。" }
      }
    };

    const form = document.getElementById("quizForm");

    questions.forEach((q, i) => {
      const div = document.createElement("div");
      div.className = "question";
      div.innerHTML = `<p>Q${i + 1}. ${q.text}</p>` +
        scaleLabels.map((label, n) => `
          <label><input type="radio" name="q${i}" value="${n + 1}"> ${label}</label>
        `).join("");
      form.appendChild(div);
    });

    function calculate() {
      Object.keys(traitScores).forEach(trait => traitScores[trait] = 0);

      for (let i = 0; i < questions.length; i++) {
        const selected = document.querySelector(`input[name="q${i}"]:checked`);
        if (!selected) {
          alert("すべての質問に回答してください。");
          return;
        }
        const score = parseInt(selected.value);
        const trait = questions[i].trait;
        traitScores[trait] += score;
      }

      let html = `<h2>あなたの性格動物タイプ</h2>`;
      for (const trait in traitScores) {
        const avg = traitScores[trait] / 2;
        let level = avg <= 2.4 ? 'low' : avg <= 3.6 ? 'mid' : 'high';
        const { animal, desc } = animalMap[trait][level];
        const label = {
          extroversion: "外向性",
          agreeableness: "協調性",
          conscientiousness: "誠実性",
          neuroticism: "神経症傾向",
          openness: "開放性"
        }[trait];
        html += `<div class="animal"><strong>${label}</strong>：${animal}<br><small>${desc}</small></div>`;
      }

      const resultDiv = document.getElementById("result");
      resultDiv.innerHTML = html;
      resultDiv.style.display = "block";
      window.scrollTo(0, document.body.scrollHeight);
    }
  </script>
</body>
</html>