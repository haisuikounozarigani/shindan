<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>抑制・加速・刺激の鉄道診断｜心の標本</title>
<meta name="description" content="12問×5件法の合計スコアで、あなたの運行テンポ（各駅停車→新幹線）を表示。">
<meta name="theme-color" content="#f6f4ff">
<link rel="preload" as="image" href="/shindan/assets/results/rail-traits/01.png">
<style>
:root{
  --bg1:#fffafe; --bg2:#f3f4ff; --card:#ffffff; --ink:#26263a;
  --brand:#6b6bd9; --muted:#6f6f82; --line:#e7e6f2; --accent:#b96ad6;
}
*{box-sizing:border-box}
html,body{margin:0;padding:0}
body{
  font-family:system-ui,-apple-system,"Segoe UI",Roboto,
  "Hiragino Kaku Gothic ProN","Noto Sans JP",sans-serif;
  color:var(--ink);
  background:linear-gradient(var(--bg1),var(--bg2));
}
.wrap{max-width:920px;margin:0 auto;padding:24px 16px}
header{text-align:center;margin:0 0 16px}
h1{margin:0;color:var(--brand);font-size:clamp(20px,5.5vw,30px)}
.sub{color:var(--muted);font-size:.92em;margin:.4rem 0 0}
.badge{display:inline-block;margin-top:6px;padding:4px 8px;border:1px solid var(--line);border-radius:999px;background:#fafaff;color:#5b5b73;font-size:.78em}
.card{
  background:var(--card); border:1px solid var(--line);
  border-radius:16px; padding:14px 12px; margin:12px 0;
  box-shadow:0 8px 22px rgba(30,40,90,.06);
}
.note{color:var(--muted);font-size:.92em;margin:.3rem 2px .6rem}
.q{padding:10px 8px;border-top:1px dashed var(--line)}
.q:first-child{border-top:none}
.q legend{font-weight:700;margin-bottom:8px}
.opts{display:grid;grid-template-columns:repeat(5,1fr);gap:8px}
input[type=radio]{position:absolute;opacity:0;pointer-events:none}
label.opt{
  display:flex;align-items:center;justify-content:center;
  border:1px solid var(--line);border-radius:10px;padding:10px 0;
  background:#fafaff;cursor:pointer;user-select:none;font-size:.95em
}
input[type=radio]:checked+label.opt{
  outline:2px solid var(--accent); background:#f7efff;
}
.btn{
  display:block;width:100%;margin:14px 0 0;padding:14px 12px;
  background:linear-gradient(135deg,#7b6bd9,#b96ad6);
  color:#fff;border:none;border-radius:12px;font-weight:800;font-size:1rem;
  box-shadow:0 10px 18px rgba(125,90,210,.28);cursor:pointer;
}
.btn:active{transform:translateY(1px)}
.err{outline:2px solid #ff6b8a !important; background:#fff0f4 !important}

#result{display:none}
.res-head{display:flex;gap:14px;align-items:center;flex-wrap:wrap}
.res-head img{width:124px;height:124px;object-fit:cover;border-radius:12px;border:1px solid var(--line)}
.res-title{font-size:1.1rem;font-weight:900;color:#363661}
.score{color:#5b5b73;margin-top:2px}
.res-body{margin-top:8px;line-height:1.9}
.res-body p{margin:.7em 0}
.tagline{display:inline-block;margin:.2rem 0 .6rem;padding:4px 8px;border-radius:8px;background:#f0edff;color:#4b4b79;font-size:.85em;border:1px solid var(--line)}
.actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
a.back{
  color:#fff;background:#6b6bd9;padding:10px 14px;border-radius:10px;text-decoration:none;font-weight:700
}
.small{font-size:.85em;color:#6b6b7a}
hr.sep{border:0;border-top:1px dashed var(--line);margin:10px 0}
@media (min-width:760px){
 .opts{gap:10px}
 .res-head img{width:156px;height:156px}
}
</style>
</head>
<body>
<div class="wrap">
  <header>
    <h1>抑制・加速・刺激の鉄道診断</h1>
    <p class="sub">12問×5件法の総合スコアで、あなたの“運行テンポ”を6段階（各駅停車→新幹線）で表示します。</p>
    <div class="badge">（軸の目安：行動の抑制／加速／刺激への引かれやすさをライトに測定）</div>
  </header>

  <section id="form" class="card">
    <p class="note">最近のあなたに最も近いものを選択（0=全くない / 1=まれにある / 2=ときどきある / 3=よくある / 4=いつもある）。※エンタメ＋自己理解向け</p>

    <form id="quiz" novalidate>
      <!-- 12問（逆転：3,6,9,12 は抑制） -->
      <fieldset class="q">
        <legend>1. 朝の予定が詰まってても、勢いでサクッと発車できる。</legend>
        <div class="opts">
          <input id="q1-0" name="q1" type="radio" value="0"><label class="opt" for="q1-0">0</label>
          <input id="q1-1" name="q1" type="radio" value="1"><label class="opt" for="q1-1">1</label>
          <input id="q1-2" name="q1" type="radio" value="2"><label class="opt" for="q1-2">2</label>
          <input id="q1-3" name="q1" type="radio" value="3"><label class="opt" for="q1-3">3</label>
          <input id="q1-4" name="q1" type="radio" value="4"><label class="opt" for="q1-4">4</label>
        </div>
      </fieldset>

      <fieldset class="q">
        <legend>2. 予定外の誘いに、ワクワクしてすぐ乗り換える。</legend>
        <div class="opts">
          <input id="q2-0" name="q2" type="radio" value="0"><label class="opt" for="q2-0">0</label>
          <input id="q2-1" name="q2" type="radio" value="1"><label class="opt" for="q2-1">1</label>
          <input id="q2-2" name="q2" type="radio" value="2"><label class="opt" for="q2-2">2</label>
          <input id="q2-3" name="q2" type="radio" value="3"><label class="opt" for="q2-3">3</label>
          <input id="q2-4" name="q2" type="radio" value="4"><label class="opt" for="q2-4">4</label>
        </div>
      </fieldset>

      <fieldset class="q">
        <legend>3. 大きな決断は、確認駅に必ず停車してから動く。</legend>
        <div class="opts">
          <input id="q3-0" name="q3" type="radio" value="0"><label class="opt" for="q3-0">0</label>
          <input id="q3-1" name="q3" type="radio" value="1"><label class="opt" for="q3-1">1</label>
          <input id="q3-2" name="q3" type="radio" value="2"><label class="opt" for="q3-2">2</label>
          <input id="q3-3" name="q3" type="radio" value="3"><label class="opt" for="q3-3">3</label>
          <input id="q3-4" name="q3" type="radio" value="4"><label class="opt" for="q3-4">4</label>
        </div>
      </fieldset>

      <fieldset class="q">
        <legend>4. 〆切が近づくと、加速して一気に巻き返す。</legend>
        <div class="opts">
          <input id="q4-0" name="q4" type="radio" value="0"><label class="opt" for="q4-0">0</label>
          <input id="q4-1" name="q4" type="radio" value="1"><label class="opt" for="q4-1">1</label>
          <input id="q4-2" name="q4" type="radio" value="2"><label class="opt" for="q4-2">2</label>
          <input id="q4-3" name="q4" type="radio" value="3"><label class="opt" for="q4-3">3</label>
          <input id="q4-4" name="q4" type="radio" value="4"><label class="opt" for="q4-4">4</label>
        </div>
      </fieldset>

      <fieldset class="q">
        <legend>5. 新しいスポットや店を見ると、つい途中下車したくなる。</legend>
        <div class="opts">
          <input id="q5-0" name="q5" type="radio" value="0"><label class="opt" for="q5-0">0</label>
          <input id="q5-1" name="q5" type="radio" value="1"><label class="opt" for="q5-1">1</label>
          <input id="q5-2" name="q5" type="radio" value="2"><label class="opt" for="q5-2">2</label>
          <input id="q5-3" name="q5" type="radio" value="3"><label class="opt" for="q5-3">3</label>
          <input id="q5-4" name="q5" type="radio" value="4"><label class="opt" for="q5-4">4</label>
        </div>
      </fieldset>

      <fieldset class="q">
        <legend>6. 迷ったら今日は見送って、明日に回すことが多い。</legend>
        <div class="opts">
          <input id="q6-0" name="q6" type="radio" value="0"><label class="opt" for="q6-0">0</label>
          <input id="q6-1" name="q6" type="radio" value="1"><label class="opt" for="q6-1">1</label>
          <input id="q6-2" name="q6" type="radio" value="2"><label class="opt" for="q6-2">2</label>
          <input id="q6-3" name="q6" type="radio" value="3"><label class="opt" for="q6-3">3</label>
          <input id="q6-4" name="q6" type="radio" value="4"><label class="opt" for="q6-4">4</label>
        </div>
      </fieldset>

      <fieldset class="q">
        <legend>7. 思いついたアイデアは、まず路線図を広げるより試運転する。</legend>
        <div class="opts">
          <input id="q7-0" name="q7" type="radio" value="0"><label class="opt" for="q7-0">0</label>
          <input id="q7-1" name="q7" type="radio" value="1"><label class="opt" for="q7-1">1</label>
          <input id="q7-2" name="q7" type="radio" value="2"><label class="opt" for="q7-2">2</label>
          <input id="q7-3" name="q7" type="radio" value="3"><label class="opt" for="q7-3">3</label>
          <input id="q7-4" name="q7" type="radio" value="4"><label class="opt" for="q7-4">4</label>
        </div>
      </fieldset>

      <fieldset class="q">
        <legend>8. 強い刺激（買い物・夜更かし）に、つい乗り過ごしがち。</legend>
        <div class="opts">
          <input id="q8-0" name="q8" type="radio" value="0"><label class="opt" for="q8-0">0</label>
          <input id="q8-1" name="q8" type="radio" value="1"><label class="opt" for="q8-1">1</label>
          <input id="q8-2" name="q8" type="radio" value="2"><label class="opt" for="q8-2">2</label>
          <input id="q8-3" name="q8" type="radio" value="3"><label class="opt" for="q8-3">3</label>
          <input id="q8-4" name="q8" type="radio" value="4"><label class="opt" for="q8-4">4</label>
        </div>
      </fieldset>

      <fieldset class="q">
        <legend>9. たくさん予定が重なると、時刻表を立てて順番に捌く。</legend>
        <div class="opts">
          <input id="q9-0" name="q9" type="radio" value="0"><label class="opt" for="q9-0">0</label>
          <input id="q9-1" name="q9" type="radio" value="1"><label class="opt" for="q9-1">1</label>
          <input id="q9-2" name="q9" type="radio" value="2"><label class="opt" for="q9-2">2</label>
          <input id="q9-3" name="q9" type="radio" value="3"><label class="opt" for="q9-3">3</label>
          <input id="q9-4" name="q9" type="radio" value="4"><label class="opt" for="q9-4">4</label>
        </div>
      </fieldset>

      <fieldset class="q">
        <legend>10. 空き時間ができると、つい新しいルートを開拓したくなる。</legend>
        <div class="opts">
          <input id="q10-0" name="q10" type="radio" value="0"><label class="opt" for="q10-0">0</label>
          <input id="q10-1" name="q10" type="radio" value="1"><label class="opt" for="q10-1">1</label>
          <input id="q10-2" name="q10" type="radio" value="2"><label class="opt" for="q10-2">2</label>
          <input id="q10-3" name="q10" type="radio" value="3"><label class="opt" for="q10-3">3</label>
          <input id="q10-4" name="q10" type="radio" value="4"><label class="opt" for="q10-4">4</label>
        </div>
      </fieldset>

      <fieldset class="q">
        <legend>11. 返事や購入ボタンは、発車ベルが鳴る前に押してしまう。</legend>
        <div class="opts">
          <input id="q11-0" name="q11" type="radio" value="0"><label class="opt" for="q11-0">0</label>
          <input id="q11-1" name="q11" type="radio" value="1"><label class="opt" for="q11-1">1</label>
          <input id="q11-2" name="q11" type="radio" value="2"><label class="opt" for="q11-2">2</label>
          <input id="q11-3" name="q11" type="radio" value="3"><label class="opt" for="q11-3">3</label>
          <input id="q11-4" name="q11" type="radio" value="4"><label class="opt" for="q11-4">4</label>
        </div>
      </fieldset>

      <fieldset class="q">
        <legend>12. 予想外のトラブルでも、落ち着いて運行ダイヤを立て直せる。</legend>
        <div class="opts">
          <input id="q12-0" name="q12" type="radio" value="0"><label class="opt" for="q12-0">0</label>
          <input id="q12-1" name="q12" type="radio" value="1"><label class="opt" for="q12-1">1</label>
          <input id="q12-2" name="q12" type="radio" value="2"><label class="opt" for="q12-2">2</label>
          <input id="q12-3" name="q12" type="radio" value="3"><label class="opt" for="q12-3">3</label>
          <input id="q12-4" name="q12" type="radio" value="4"><label class="opt" for="q12-4">4</label>
        </div>
      </fieldset>

      <button type="button" class="btn" id="go">診断する</button>
      <p class="note small">※合計0〜48点。カットオフ：0–7 各駅停車 / 8–15 準急 / 16–23 快速 / 24–31 急行 / 32–39 特急 / 40–48 新幹線。逆転項目：3,6,9,12。</p>
    </form>
  </section>

  <!-- 結果表示枠 -->
  <section id="result" class="card">
    <div class="res-head">
      <img id="resImg" src="" alt="">
      <div>
        <div class="res-title" id="resTitle"></div>
        <div class="score" id="resScore"></div>
        <div class="tagline" id="resTag"></div>
      </div>
    </div>
    <hr class="sep">
    <div class="res-body" id="resBody"></div>
    <div class="actions">
      <a class="back" href="/shindan/">診断一覧へ戻る</a>
    </div>
  </section>

  <p class="small note">※本診断は日常の行動傾向をライトに示す<strong>娯楽＋自己理解</strong>向けコンテンツです（医療的診断ではありません）。</p>

<script>
(() => {
  // 逆転（抑制）項目
  const reverse = new Set([3,6,9,12]);

  // 6タイプ定義（画像: /shindan/assets/results/rail-traits/01.png..06.png）
  const defs = [
    {
      range:[0,7],
      key:"各駅停車ベーシック",
      tag:"安全第一、景色も積み立てる堅実派",
      img:"01.png",
      alt:"のんびり各駅停車のイラスト",
      body: `
      <p><strong>車掌アナウンス：</strong>「あわてずご乗車ください。次の“決断”には各駅に停まります。」</p>
      <p><strong>こんなあなた：</strong>段取りはきれい。約束は時刻表どおり、周りの安心担当。</p>
      <p><strong>あるある：</strong>“チャンス列車”を3本見送ってから乗る／マンネリで車内広告ばかり眺めがち。</p>
      <p><strong>運行のコツ：</strong><br>
      ・1日1本だけ“快速運転”（優先3つを一気に片づけ）<br>
      ・週2回“新駅スタンプ”（小さな初挑戦）<br>
      ・90分ごとに「終点」を設置（達成感の停車駅を増やす）</p>`
    },
    {
      range:[8,15],
      key:"準急マイペース",
      tag:"慎重だけど、合図があればちゃんと速い",
      img:"02.png",
      alt:"準急列車が落ち着いて走るイラスト",
      body: `
      <p><strong>車掌アナウンス：</strong>「ただいま安全確認中。笛が鳴ったらスッと発車します。」</p>
      <p><strong>こんなあなた：</strong>点検は抜かりなく、刺激も“予約制”でほどよく取り込める。</p>
      <p><strong>あるある：</strong>発車位置で悩みすぎて時刻だけ過ぎる／準備ばっちりなのに本番がショート。</p>
      <p><strong>運行のコツ：</strong><br>
      ・“試運転15分×週2”（まず一駅だけ動く）<br>
      ・刺激は土曜午前に“試乗会”1枠だけ（平日のダイヤを守る）<br>
      ・発車ベルは他人に鳴らしてもらう（声かけ役）</p>`
    },
    {
      range:[16,23],
      key:"快速バランサー",
      tag:"乗り換え妙手、最短も寄り道も使い分け",
      img:"03.png",
      alt:"快速列車が軽快に走るイラスト",
      body: `
      <p><strong>車掌アナウンス：</strong>「本日は“切り替え上手線”をご利用ありがとうございます。」</p>
      <p><strong>こんなあなた：</strong>状況を読むのが速く、いい感じのスピード感で前へ。</p>
      <p><strong>あるある：</strong>乗り換えが楽しくなって“目的地”を忘れかける／寄り道で本線の時間が削られる。</p>
      <p><strong>運行のコツ：</strong><br>
      ・「今日の終点」を1つだけ放送（紙に書く）<br>
      ・途中下車は“1日2回まで”の乗り換え制限<br>
      ・月末は“廃線レビュー”（やめること決めてレール軽量化）</p>`
    },
    {
      range:[24,31],
      key:"急行スプリンター",
      tag:"思い立ったら発車、追い風を逃さない",
      img:"04.png",
      alt:"急行列車が力強く走るイラスト",
      body: `
      <p><strong>車掌アナウンス：</strong>「勢いに乗って快走中。確認駅は1つだけ停まります。」</p>
      <p><strong>こんなあなた：</strong>初動の強さが武器。新企画や新環境でグイっと牽引。</p>
      <p><strong>あるある：</strong>確認駅を通過して後から折り返し／買い物・発言が“見切り発車”。</p>
      <p><strong>運行のコツ：</strong><br>
      ・強い送信・購入は“発車ベル1回待ち”（30秒）<br>
      ・まず“下書き側線”に回送→翌朝に本線へ<br>
      ・寄り道は“デイリー2回”の上限シール</p>`
    },
    {
      range:[32,39],
      key:"特急チャレンジャー",
      tag:"スピードと刺激で突破、先頭車両の景色担当",
      img:"05.png",
      alt:"特急列車が速く走るイラスト",
      body: `
      <p><strong>車掌アナウンス：</strong>「ただいま快調にオーバーラン寸前です。非常ボタンの位置をご確認ください。」</p>
      <p><strong>こんなあなた：</strong>未知の区間に強く、勢いで道を開く。</p>
      <p><strong>あるある：</strong>やり過ぎ・買い過ぎ・言い過ぎ→後処理で減速／燃料切れに気づくのが遅い。</p>
      <p><strong>運行のコツ：</strong><br>
      ・“24時間冷凍”ルール（強い返信・大きな買い物は翌日決裁）<br>
      ・“非常停止ボタン”を友だちに預ける（相談→GO）<br>
      ・週1の“車両基地day”（ノルマ0・整備と睡眠）</p>`
    },
    {
      range:[40,48],
      key:"新幹線ダイヤ",
      tag:"速いのに静か、誤差±1分のプロ運行",
      img:"06.png",
      alt:"新幹線が滑らかに走るイラスト",
      body: `
      <p><strong>車掌アナウンス：</strong>「この列車、速達かつ正確。たまに清掃のため全員一度降ります。」</p>
      <p><strong>こんなあなた：</strong>推進力と責任感の両立。大きな案件を定時で着地。</p>
      <p><strong>あるある：</strong>過密ダイヤで整備が後回し→ある日まとめて疲れが来る。</p>
      <p><strong>運行のコツ：</strong><br>
      ・“50分走／10分停車”で計画整備（アラーム推奨）<br>
      ・予定表に“予備ダイヤ”を最初から確保（<em>余裕時間は正義</em>）<br>
      ・刺激は“月1試乗会”に集約（飽き対策は計画的に）</p>`
    }
  ];

  // DOM 取得
  const byId = id => document.getElementById(id);
  const form = byId('quiz');
  const go = byId('go');
  const resSec = byId('result');

  // 未回答チェック
  function firstUnanswered(){
    for(let i=1;i<=12;i++){
      const v = form['q'+i]?.value;
      if(v === "" || v == null){ return i; }
    }
    return 0;
  }

  // 合計スコア（0..48）: 抑制項目は (4 - 値)
  function calcScore(){
    let sum = 0;
    for(let i=1;i<=12;i++){
      const raw = Number(form['q'+i].value);
      const score = reverse.has(i) ? (4 - raw) : raw;
      sum += score;
    }
    return sum;
  }

  // タイプ選択
  function pickDef(total){
    return defs.find(d => total >= d.range[0] && total <= d.range[1]) || defs[defs.length-1];
  }

  // スクロール＆ハイライト
  function scrollToField(n){
    const fs = form.querySelector(`input[name="q${n}"]`)?.closest('.q');
    if(fs){
      fs.classList.add('err');
      fs.scrollIntoView({behavior:'smooth', block:'center'});
      setTimeout(()=>fs.classList.remove('err'), 1600);
    }
  }

  // クリック処理
  go.addEventListener('click', () => {
    const miss = firstUnanswered();
    if(miss){
      alert(`未回答の項目があります（${miss}問目）。`);
      scrollToField(miss);
      return;
    }
    const total = calcScore();
    const d = pickDef(total);

    // 描画
    const base = "/shindan/assets/results/rail-traits/";
    const imgEl = byId('resImg');
    imgEl.src = base + d.img;
    imgEl.alt = d.alt;

    byId('resTitle').textContent = `${d.key}（${d.range[0]}–${d.range[1]}点帯）`;
    byId('resScore').textContent  = `あなたの総合スコア：${total} / 48`;
    byId('resTag').textContent    = d.tag;
    byId('resBody').innerHTML     = d.body;

    resSec.style.display = 'block';
    resSec.scrollIntoView({behavior:'smooth', block:'start'});
  });
})();
</script>
</div>
</body>
</html>
