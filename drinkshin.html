<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>é£²ã¿ç‰©ã§ã‚ã‹ã‚‹ã‚µã‚¤ã‚³ãƒ‘ã‚¹è¨ºæ–­</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <style>
    :root{
      --brand:#b86b77; --bg:#fdf6f0; --card:#ffffff; --muted:#666;
      --chip:#fde9ee; --bar:#fdf1f3; --barfill:#b86b77;
    }
    body{
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Hiragino Kaku Gothic ProN", "Noto Sans JP", sans-serif;
      background: var(--bg); color:#333; margin:0; padding:22px;
    }
    .wrap{max-width:900px;margin:0 auto}
    h1{color:var(--brand); text-align:center; margin:6px 0 8px; font-size:clamp(20px,3.8vw,28px)}
    .lead{text-align:center; color:var(--muted); margin:0 0 16px; font-size:14px}
    .legend{display:inline-block;background:var(--chip); color:var(--brand); padding:6px 10px; border-radius:999px; font-size:12px; margin:0 auto 12px; text-align:center}
    .card{background:var(--card); border-radius:12px; box-shadow:0 6px 18px rgba(0,0,0,.06); padding:18px}
    .question{margin:18px 0 20px}
    .question p{margin:0 0 10px}
    .scale{display:grid; gap:8px}
    .scale label{display:flex; align-items:center; gap:10px; background:#f6f3f1; border-radius:10px; padding:10px; cursor:pointer}
    .scale input{accent-color:var(--brand)}
    .meta{display:flex; justify-content:space-between; align-items:center; margin:6px 2px 0; color:var(--muted); font-size:12px}
    .actions{display:flex; gap:10px; justify-content:center; flex-wrap:wrap; margin-top:10px}
    .btn{background:var(--brand); color:#fff; border:none; border-radius:10px; padding:12px 18px; font-size:16px; cursor:pointer}
    .btn.secondary{background:#858585}
    #resultBox{display:none; margin-top:18px}
    .resultHead{font-size:1.2em; color:var(--brand); text-align:center; margin:0 0 8px}
    .percent{font-size:2rem; font-weight:700; text-align:center}
    .drink{font-size:1.2rem; text-align:center; margin-top:6px}
    .bar{background:var(--bar); border-radius:999px; height:12px; overflow:hidden; margin:12px auto 0; max-width:460px}
    .bar > span{display:block; height:100%; width:0%; background:var(--barfill); transition:width .5s ease}
    .note{font-size:14px; color:#444; background:#fff7e6; border-left:6px solid #ffbf66; border-radius:8px; padding:10px 12px; margin:14px 0}
    #link{text-align:center; margin-top:12px}
    #link a{display:inline-block; background:var(--brand); color:#fff; text-decoration:none; padding:10px 16px; border-radius:10px}
  </style>
</head>
<body>
  <div class="wrap">
    <h1>ğŸ¥¤ é£²ã¿ç‰©ã§ã‚ã‹ã‚‹ã‚µã‚¤ã‚³ãƒ‘ã‚¹è¨ºæ–­</h1>
    <p class="lead">å½“ã¦ã¯ã¾ã‚‹åº¦åˆã„ã‚’5ä»¶æ³•ã§ç­”ãˆã¦ã­ï¼ˆ1=ã¾ã£ãŸãã€œ5=ã¨ã¦ã‚‚ï¼‰</p>
    <div class="legend">æœ€å°10ç‚¹ã€œæœ€å¤§50ç‚¹ â†’ è‡ªå‹•ã§ã‚µã‚¤ã‚³ãƒ‘ã‚¹åº¦ï¼ˆ%ï¼‰ã‚’ç®—å‡º</div>

    <div class="card" id="formWrap">
      <div class="meta"><span id="progress">æœªå›ç­” 10 / 10</span><span>5ä»¶æ³•ï¼š1ã€œ5</span></div>
      <form id="quizForm"></form>
      <div class="actions">
        <button class="btn" type="button" onclick="calculate()">è¨ºæ–­ã™ã‚‹</button>
        <button class="btn secondary" type="button" onclick="resetForm()">ãƒªã‚»ãƒƒãƒˆ</button>
      </div>
    </div>

    <div id="resultBox" class="card">
      <p class="resultHead">è¨ºæ–­çµæœ</p>
      <div class="percent" id="percentText">â€” %</div>
      <div class="bar"><span id="barFill"></span></div>
      <div class="drink" id="drinkText">é£²ã¿ç‰©ã‚¿ã‚¤ãƒ—ï¼šâ€”</div>
      <div class="note">ã‚¹ã‚¯ã‚·ãƒ§ã‚„ãƒ¡ãƒ¢ã§ä¿å­˜ã—ã¦ã‹ã‚‰ã€ä¸‹ã®ãƒœã‚¿ãƒ³ã§è§£èª¬ã¸ã©ã†ãã€‚</div>
      <div id="link">
        <a href="https://seikaku.my.canva.site/drinkshin" target="_blank">â–¶ ã‚ãªãŸã®è¨ºæ–­ã‚¿ã‚¤ãƒ—ã®è§£èª¬ã‚’è¦‹ã‚‹</a>
      </div>
    </div>
  </div>

  <script>
    const questions = [
      "äººã®ç§˜å¯†ã‚’çŸ¥ã‚‹ã¨ã€ã¡ã‚‡ã£ã¨å¬‰ã—ããªã‚‹",
      "è¬ã‚‹ã‚ˆã‚Šã€æ­£å½“åŒ–ã™ã‚‹ã»ã†ãŒå¾—æ„ã ",
      "æ„Ÿæƒ…çš„ãªäººã‚’è¦‹ã‚‹ã¨ã€å¼•ã„ã¦ã—ã¾ã†",
      "æœ¬éŸ³ã‚ˆã‚Šã‚‚æ¼”æŠ€ã®æ–¹ãŒäººé–“é–¢ä¿‚ã¯ã†ã¾ãã„ã",
      "èª°ã‹ã®ãƒŸã‚¹ã‚’åˆ©ç”¨ã™ã‚‹ã®ã¯æ‚ªã„ã“ã¨ã˜ã‚ƒãªã„",
      "ã€å…±æ„Ÿã§ãã‚‹ã€ã¨è¨€ã„ã¤ã¤å†…å¿ƒå†·ã‚ã¦ã‚‹ã“ã¨ãŒã‚ã‚‹",
      "å€«ç†ã£ã¦ã€æ™‚ã¨å ´åˆã«ã‚ˆã£ã¦ã¯ç„¡è¦–ã—ã¦ã„ã„ã¨æ€ã†",
      "è‡ªåˆ†ã®ãƒ«ãƒ¼ãƒ«ã«å¾“ã£ã¦å‹•ãæ–¹ãŒæ­£ã—ã„ã¨æ€ã†",
      "äººã‚’è©¦ã™ã‚ˆã†ãªè¨€å‹•ã‚’ã—ã¦ã—ã¾ã†ã“ã¨ãŒã‚ã‚‹",
      "ä»–äººã®ä¸å®‰ã‚„å¼±ã¿ã‚’å¯ŸçŸ¥ã™ã‚‹ã®ãŒå¾—æ„ã "
    ];

    const scaleLabels = [
      "1ï¼ˆã¾ã£ãŸãå½“ã¦ã¯ã¾ã‚‰ãªã„ï¼‰",
      "2ï¼ˆã‚ã¾ã‚Šå½“ã¦ã¯ã¾ã‚‰ãªã„ï¼‰",
      "3ï¼ˆã©ã¡ã‚‰ã¨ã‚‚ã„ãˆãªã„ï¼‰",
      "4ï¼ˆã‚„ã‚„å½“ã¦ã¯ã¾ã‚‹ï¼‰",
      "5ï¼ˆã¨ã¦ã‚‚å½“ã¦ã¯ã¾ã‚‹ï¼‰"
    ];

    const form = document.getElementById("quizForm");
    const progressEl = document.getElementById("progress");
    // è³ªå•æç”»
    questions.forEach((q, i) => {
      const div = document.createElement("div");
      div.className = "question";
      div.innerHTML = `<p>Q${i + 1}. ${q}</p>` +
        `<div class="scale">` +
        scaleLabels.map((label, n) => {
          const id = `q${i}_${n+1}`;
          return `<label for="${id}">
            <input id="${id}" type="radio" name="q${i + 1}" value="${n + 1}"> ${label}
          </label>`;
        }).join("") +
        `</div>`;
      form.appendChild(div);
    });

    // é€²æ—è¡¨ç¤º
    function updateProgress(){
      const answered = Array.from({length: questions.length})
        .filter((_,i)=>document.querySelector(`input[name="q${i+1}"]:checked`)).length;
      progressEl.textContent = `æœªå›ç­” ${questions.length - answered} / ${questions.length}`;
    }
    form.addEventListener("change", updateProgress);
    updateProgress();

    // ãƒªã‚»ãƒƒãƒˆ
    function resetForm(){
      form.reset();
      updateProgress();
      document.getElementById("resultBox").style.display="none";
      document.getElementById("percentText").textContent="â€” %";
      document.getElementById("drinkText").textContent="é£²ã¿ç‰©ã‚¿ã‚¤ãƒ—ï¼šâ€”";
      document.getElementById("barFill").style.width="0%";
      window.scrollTo({top:0,behavior:"smooth"});
    }

    function calculate() {
      let total = 0;
      for (let i = 1; i <= questions.length; i++) {
        const val = parseInt(document.querySelector(`input[name='q${i}']:checked`)?.value);
        if (!val) return alert(`å…¨ã¦ã®è³ªå•ã«ç­”ãˆã¦ãã ã•ã„ã€‚\næœªå›ç­”ã®è³ªå•ãŒã‚ã‚Šã¾ã™ï¼ˆQ${i}ï¼‰ã€‚`);
        total += val;
      }

      // æœ€ä½10ã€œæœ€å¤§50 â†’ 0ã€œ100%
      let percentage = Math.round((total - 10) / 40 * 100);
      if (percentage < 0) percentage = 0;
      if (percentage > 100) percentage = 100;

      let drink = "";
      if (total <= 15)      drink = "ã‚¹ãƒˆãƒ­ãƒ™ãƒªãƒ¼ãƒŸãƒ«ã‚¯ğŸ“";
      else if (total <= 25) drink = "ãƒŸãƒ«ã‚¯ã‚³ã‚³ã‚¢ğŸ«";
      else if (total <= 35) drink = "ã‚«ãƒ•ã‚§ã‚ªãƒ¬â˜•ï¸";
      else if (total <= 42) drink = "ã‚¢ãƒ¼ãƒ«ã‚°ãƒ¬ã‚¤ğŸ«–";
      else                  drink = "ãƒ–ãƒ©ãƒƒã‚¯ã‚³ãƒ¼ãƒ’ãƒ¼ğŸ–¤";

      // è¡¨ç¤º
      document.getElementById("percentText").textContent = `ã‚µã‚¤ã‚³ãƒ‘ã‚¹åº¦ ${percentage}%`;
      document.getElementById("drinkText").textContent = `é£²ã¿ç‰©ã‚¿ã‚¤ãƒ—ï¼š${drink}`;
      document.getElementById("barFill").style.width = percentage + "%";

      const box = document.getElementById("resultBox");
      box.style.display = "block";
      window.scrollTo({top:box.offsetTop - 10, behavior:"smooth"});
    }
  </script>
</body>
</html>
